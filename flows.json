[
    {
        "id": "b9f084d.1776c78",
        "type": "tab",
        "label": "Globals",
        "disabled": false,
        "info": "Contains global components."
    },
    {
        "id": "cd3c6c14.6a19b8",
        "type": "tab",
        "label": "Tractors",
        "disabled": false,
        "info": "OPC-UA based control of the PLC program that runs on the PAC"
    },
    {
        "id": "472cf316.a032c4",
        "type": "tab",
        "label": "Furnace",
        "disabled": false,
        "info": "Thermocouple readings and PID control of heating elements."
    },
    {
        "id": "d0319a94.933848",
        "type": "tab",
        "label": "Arm 1-2",
        "disabled": false,
        "info": "Pneumatic control of Arms 1 and 2."
    },
    {
        "id": "36a8cb83.a57434",
        "type": "tab",
        "label": "Arm 3-4",
        "disabled": false,
        "info": "Pneumatic control of arms 3 and 4."
    },
    {
        "id": "39f681b1.fd6a4e",
        "type": "tab",
        "label": "Strain gauges",
        "disabled": false,
        "info": ""
    },
    {
        "id": "29b5b7f5.1f4978",
        "type": "subflow",
        "name": "TC event",
        "info": "Subflow to process an event from a thermocouple phidget.",
        "category": "",
        "in": [
            {
                "x": 280,
                "y": 320,
                "wires": [
                    {
                        "id": "d11fbcd4.491128"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 1480,
                "y": 240,
                "wires": [
                    {
                        "id": "2a9f26e6.d4f4ca",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [
            {
                "name": "label",
                "type": "str",
                "value": ""
            }
        ],
        "meta": {},
        "color": "#DDAA99",
        "inputLabels": [
            "Thermocouple"
        ],
        "status": {
            "x": 1300,
            "y": 320,
            "wires": [
                {
                    "id": "3fbf5fac.51fba8",
                    "port": 0
                }
            ]
        }
    },
    {
        "id": "daecb3c5.c2256",
        "type": "subflow",
        "name": "HT/CV event",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 80,
                "y": 580,
                "wires": [
                    {
                        "id": "5361b514.9b4bcc"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 1560,
                "y": 520,
                "wires": [
                    {
                        "id": "69c4c7c8.700ce8",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [
            {
                "name": "label",
                "type": "str",
                "value": ""
            }
        ],
        "meta": {},
        "color": "#DDAA99",
        "status": {
            "x": 1250,
            "y": 580,
            "wires": [
                {
                    "id": "96915fd5.b7ee68",
                    "port": 0
                }
            ]
        }
    },
    {
        "id": "28075929.52991e",
        "type": "subflow",
        "name": "[At/De]tach",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 880,
                "y": 420,
                "wires": [
                    {
                        "id": "aecc3e07.4b9468"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 1280,
                "y": 420,
                "wires": [
                    {
                        "id": "aecc3e07.4b9468",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [],
        "meta": {},
        "color": "#DDAA99"
    },
    {
        "id": "7b62c48f.4019d4",
        "type": "subflow",
        "name": "SG event",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 460,
                "y": 500,
                "wires": [
                    {
                        "id": "2b1ae01b.75293"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 1860,
                "y": 420,
                "wires": [
                    {
                        "id": "664ff645.d94c58",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [
            {
                "name": "label",
                "type": "str",
                "value": ""
            }
        ],
        "meta": {},
        "color": "#DDAA99",
        "status": {
            "x": 1440,
            "y": 500,
            "wires": [
                {
                    "id": "37345462.e5a6cc",
                    "port": 0
                }
            ]
        }
    },
    {
        "id": "3d0cd0fc.71538",
        "type": "subflow",
        "name": "EN event",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 260,
                "y": 420,
                "wires": [
                    {
                        "id": "3449a9c8.d93c4e"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 1240,
                "y": 260,
                "wires": [
                    {
                        "id": "3277caba.08d24e",
                        "port": 0
                    }
                ]
            },
            {
                "x": 1240,
                "y": 340,
                "wires": [
                    {
                        "id": "3277caba.08d24e",
                        "port": 1
                    }
                ]
            }
        ],
        "env": [
            {
                "name": "label",
                "type": "str",
                "value": ""
            }
        ],
        "meta": {},
        "color": "#DDAA99",
        "outputLabels": [
            "position",
            "velocity"
        ],
        "status": {
            "x": 1280,
            "y": 420,
            "wires": [
                {
                    "id": "1dd06828.afdc3",
                    "port": 0
                }
            ]
        }
    },
    {
        "id": "e9a50f1a.8125e",
        "type": "subflow",
        "name": "IV event",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 180,
                "y": 520,
                "wires": [
                    {
                        "id": "99b231b.6e6555"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 1700,
                "y": 460,
                "wires": [
                    {
                        "id": "fd6fea52.e655b8",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [
            {
                "name": "label",
                "type": "str",
                "value": ""
            }
        ],
        "meta": {},
        "color": "#DDAA99",
        "status": {
            "x": 1460,
            "y": 540,
            "wires": [
                {
                    "id": "84609913.5827c",
                    "port": 0
                }
            ]
        }
    },
    {
        "id": "8e799bae.813c4",
        "type": "group",
        "z": "d0319a94.933848",
        "name": "DIRECTION",
        "style": {
            "label": true
        },
        "nodes": [
            "820e06a1.dbb25",
            "f101bbae.4501b",
            "4ce88669.ad009"
        ],
        "x": 2654,
        "y": 133,
        "w": 698,
        "h": 254
    },
    {
        "id": "666a68bf.ca7fa",
        "type": "group",
        "z": "d0319a94.933848",
        "name": "PRESSURE",
        "style": {
            "label": true
        },
        "nodes": [
            "cdea3450.e3356",
            "d0266af7.3d318"
        ],
        "x": 2208,
        "y": 413,
        "w": 624,
        "h": 234
    },
    {
        "id": "446380d7.ea15e8",
        "type": "group",
        "z": "d0319a94.933848",
        "name": "POSITION",
        "style": {
            "label": true
        },
        "nodes": [
            "2f6fa9c1.a66a06",
            "f0fc5028.32d6a8",
            "1369bd23.8e4ff3"
        ],
        "x": 594,
        "y": 1053,
        "w": 478,
        "h": 254
    },
    {
        "id": "412e4124.cd2d18",
        "type": "group",
        "z": "472cf316.a032c4",
        "name": "HT1",
        "style": {
            "label": true
        },
        "nodes": [
            "671a928a.47199c",
            "f15d55fe.96273",
            "ff868aaf.bf8008"
        ],
        "x": 1414,
        "y": 699,
        "w": 532,
        "h": 82
    },
    {
        "id": "864361a2.693d7",
        "type": "group",
        "z": "472cf316.a032c4",
        "name": "HT2",
        "style": {
            "label": true
        },
        "nodes": [
            "4282a3a7.3667ec",
            "c3887544.7385d8",
            "937161e8.3942f8"
        ],
        "x": 1414,
        "y": 799,
        "w": 532,
        "h": 82
    },
    {
        "id": "a66af1c7.2c52e8",
        "type": "group",
        "z": "472cf316.a032c4",
        "name": "HT3",
        "style": {
            "label": true
        },
        "nodes": [
            "5a69be94.4a9278",
            "2e3994f.0fbdc6c",
            "42957ccf.8c6954"
        ],
        "x": 1414,
        "y": 899,
        "w": 532,
        "h": 82
    },
    {
        "id": "db10a9d6.3cf4e8",
        "type": "group",
        "z": "472cf316.a032c4",
        "name": "HT4",
        "style": {
            "label": true
        },
        "nodes": [
            "21c2048c.fcca44",
            "4024fc44.4a45ac",
            "a4400c08.d2ce98"
        ],
        "x": 1414,
        "y": 999,
        "w": 532,
        "h": 82
    },
    {
        "id": "3f230530.f52e92",
        "type": "group",
        "z": "36a8cb83.a57434",
        "name": "POSITION",
        "style": {
            "label": true
        },
        "nodes": [
            "83dfa8bc.276bd8",
            "a4e89e91.777918",
            "bec3217e.4170d8"
        ],
        "x": 314,
        "y": 1173,
        "w": 458,
        "h": 254
    },
    {
        "id": "e17fcd39.04a09",
        "type": "group",
        "z": "36a8cb83.a57434",
        "name": "PRESSURE",
        "style": {
            "label": true
        },
        "nodes": [
            "2ba23474.d0cf14",
            "43b6fbc7.822c84"
        ],
        "x": 1848,
        "y": 573,
        "w": 644,
        "h": 234
    },
    {
        "id": "c622cdd4.6d49c8",
        "type": "group",
        "z": "472cf316.a032c4",
        "name": "TC2",
        "style": {
            "label": true
        },
        "nodes": [
            "f4ace7a2.bec3c",
            "3923836d.997354"
        ],
        "x": 174,
        "y": 799,
        "w": 412,
        "h": 82
    },
    {
        "id": "ea8e2d80.cca938",
        "type": "group",
        "z": "472cf316.a032c4",
        "name": "TC3",
        "style": {
            "label": true
        },
        "nodes": [
            "7a3fcb86.106d54",
            "766e3bd5.7c1b2c"
        ],
        "x": 174,
        "y": 899,
        "w": 412,
        "h": 82
    },
    {
        "id": "8d7f6ed9.f5bfc",
        "type": "group",
        "z": "472cf316.a032c4",
        "name": "TC4",
        "style": {
            "label": true
        },
        "nodes": [
            "27ab509f.2f5a1",
            "cc3ac605.b0889"
        ],
        "x": 174,
        "y": 999,
        "w": 412,
        "h": 82
    },
    {
        "id": "de28e6a4.6494e",
        "type": "group",
        "z": "472cf316.a032c4",
        "name": "TC1",
        "style": {
            "label": true
        },
        "nodes": [
            "257e7bac.6143d4",
            "94e70763.3395b8"
        ],
        "x": 174,
        "y": 699,
        "w": 412,
        "h": 82
    },
    {
        "id": "4a6d0eb9.05129",
        "type": "group",
        "z": "472cf316.a032c4",
        "name": "TC8",
        "style": {
            "label": true
        },
        "nodes": [
            "c04ebff4.2d987",
            "1f679a1d.da07ce"
        ],
        "x": 174,
        "y": 1399,
        "w": 412,
        "h": 82
    },
    {
        "id": "d32a617b.531d98",
        "type": "group",
        "z": "472cf316.a032c4",
        "name": "TC6",
        "style": {
            "label": true
        },
        "nodes": [
            "31fc6597.3b1122",
            "96cd42bb.c5194"
        ],
        "x": 174,
        "y": 1199,
        "w": 412,
        "h": 82
    },
    {
        "id": "e29bdb60.c65598",
        "type": "group",
        "z": "472cf316.a032c4",
        "name": "TC7",
        "style": {
            "label": true
        },
        "nodes": [
            "e417d705.6ef3",
            "f2eb6b48.3381b"
        ],
        "x": 174,
        "y": 1299,
        "w": 412,
        "h": 82
    },
    {
        "id": "2bdf9297.27d11e",
        "type": "group",
        "z": "472cf316.a032c4",
        "name": "TC5",
        "style": {
            "label": true
        },
        "nodes": [
            "f9ee7d4b.00db58",
            "4df265ae.506b7c"
        ],
        "x": 174,
        "y": 1099,
        "w": 412,
        "h": 82
    },
    {
        "id": "981bb9d1.31d21",
        "type": "group",
        "z": "472cf316.a032c4",
        "name": "TC10",
        "style": {
            "label": true
        },
        "nodes": [
            "cf4077f4.f30dc",
            "984c6943.ae625"
        ],
        "x": 174,
        "y": 1599,
        "w": 412,
        "h": 82
    },
    {
        "id": "c38e4093.6b7da",
        "type": "group",
        "z": "472cf316.a032c4",
        "name": "TC9",
        "style": {
            "label": true
        },
        "nodes": [
            "26fec770.ee05b",
            "b29781a7.05bf48"
        ],
        "x": 174,
        "y": 1499,
        "w": 412,
        "h": 82
    },
    {
        "id": "97ce7560.beb438",
        "type": "group",
        "z": "cd3c6c14.6a19b8",
        "name": "Actual velocities",
        "style": {
            "label": true
        },
        "nodes": [
            "de5aed1f.ef0e38",
            "8164ec7f.1a1348",
            "4c54d9e5.a378f8",
            "9305743.6cab688"
        ],
        "x": 314,
        "y": 419,
        "w": 172,
        "h": 202
    },
    {
        "id": "f5ef5e0b.1bb768",
        "type": "group",
        "z": "cd3c6c14.6a19b8",
        "name": "Commanded velocities",
        "style": {
            "label": true
        },
        "nodes": [
            "ad9d93b.9af6ff",
            "a37af2b.9f3b59"
        ],
        "x": 314,
        "y": 279,
        "w": 172,
        "h": 122
    },
    {
        "id": "d044628d.d1a6a8",
        "type": "group",
        "z": "cd3c6c14.6a19b8",
        "name": "State of the PLC program",
        "style": {
            "label": true
        },
        "nodes": [
            "aba14372.4a0c08",
            "5252b032.0b85d"
        ],
        "x": 314,
        "y": 139,
        "w": 172,
        "h": 122
    },
    {
        "id": "6a8645c6.774334",
        "type": "group",
        "z": "39f681b1.fd6a4e",
        "name": "SG1",
        "style": {
            "label": true
        },
        "nodes": [
            "49c47775.50ca4",
            "1f680714.ce4601"
        ],
        "x": 254,
        "y": 219,
        "w": 412,
        "h": 82
    },
    {
        "id": "2eda63f4.7d845c",
        "type": "group",
        "z": "39f681b1.fd6a4e",
        "name": "SG2",
        "style": {
            "label": true
        },
        "nodes": [
            "cec384a2.b8b4e",
            "62630b25.d9e8c4"
        ],
        "x": 254,
        "y": 319,
        "w": 412,
        "h": 82
    },
    {
        "id": "46abe05b.171a2",
        "type": "group",
        "z": "39f681b1.fd6a4e",
        "name": "SG3",
        "style": {
            "label": true
        },
        "nodes": [
            "2e7c1c51.2896b4",
            "2004fe14.587f8a"
        ],
        "x": 254,
        "y": 419,
        "w": 412,
        "h": 82
    },
    {
        "id": "b30a1226.a9bee8",
        "type": "group",
        "z": "39f681b1.fd6a4e",
        "name": "SG4",
        "style": {
            "label": true
        },
        "nodes": [
            "8505330a.300fb8",
            "b70c9ca5.a29e2"
        ],
        "x": 254,
        "y": 519,
        "w": 412,
        "h": 82
    },
    {
        "id": "1d6adcc.14c14a3",
        "type": "group",
        "z": "cd3c6c14.6a19b8",
        "name": "influxdb",
        "style": {
            "label": true
        },
        "nodes": [
            "165956a5.87d851",
            "151dee63.6493f2"
        ],
        "x": 754,
        "y": 39,
        "w": 342,
        "h": 82
    },
    {
        "id": "f87e1bec.5f3918",
        "type": "group",
        "z": "472cf316.a032c4",
        "name": "HT4",
        "style": {
            "label": true
        },
        "nodes": [
            "ab2f02bd.7e5e08",
            "aab6d00b.5b7258",
            "5d11577d.16c0d"
        ],
        "x": 1414,
        "y": 1099,
        "w": 532,
        "h": 82
    },
    {
        "id": "aa0c9c53.8687e",
        "type": "group",
        "z": "472cf316.a032c4",
        "name": "HT4",
        "style": {
            "label": true
        },
        "nodes": [
            "c35c6c2.d72ff1",
            "19908d86.73ac72",
            "ee746864.7a143"
        ],
        "x": 1414,
        "y": 1199,
        "w": 532,
        "h": 82
    },
    {
        "id": "99faae0b.9ae6e8",
        "type": "group",
        "z": "472cf316.a032c4",
        "name": "HT4",
        "style": {
            "label": true
        },
        "nodes": [
            "68406121.d89e88",
            "d778a8e6.360ed",
            "1187fc.2a0be005"
        ],
        "x": 1414,
        "y": 1299,
        "w": 532,
        "h": 82
    },
    {
        "id": "b89fa898.3685c",
        "type": "group",
        "z": "472cf316.a032c4",
        "name": "HT4",
        "style": {
            "label": true
        },
        "nodes": [
            "4d287680.90a0c8",
            "4ef74614.8e7238",
            "c13ce21c.a5a3b8"
        ],
        "x": 1414,
        "y": 1399,
        "w": 532,
        "h": 82
    },
    {
        "id": "6c120055.6be63",
        "type": "group",
        "z": "472cf316.a032c4",
        "name": "HT4",
        "style": {
            "label": true
        },
        "nodes": [
            "9532e7e9.dd7bd",
            "5ff99cac.af9a1c",
            "d938b331.2e05f8"
        ],
        "x": 1414,
        "y": 1499,
        "w": 532,
        "h": 82
    },
    {
        "id": "11fca2db.168405",
        "type": "group",
        "z": "472cf316.a032c4",
        "name": "HT4",
        "style": {
            "label": true
        },
        "nodes": [
            "a0bbddb3.f6586",
            "2598d46b.952f2c",
            "e0487fbc.4e1eb"
        ],
        "x": 1414,
        "y": 1599,
        "w": 532,
        "h": 82
    },
    {
        "id": "3910b958.407cf6",
        "type": "group",
        "z": "472cf316.a032c4",
        "name": "influxdb",
        "style": {
            "label": true
        },
        "nodes": [
            "d8994046.43533"
        ],
        "x": 2214,
        "y": 1259,
        "w": 82,
        "h": 82
    },
    {
        "id": "ad5f1dd6.82ee1",
        "type": "group",
        "z": "472cf316.a032c4",
        "name": "influxdb",
        "style": {
            "label": true
        },
        "nodes": [
            "1d7994b7.1679a3"
        ],
        "x": 814,
        "y": 1239,
        "w": 82,
        "h": 82
    },
    {
        "id": "41a0fb43.fcc0e4",
        "type": "group",
        "z": "39f681b1.fd6a4e",
        "name": "influxdb",
        "style": {
            "label": true
        },
        "nodes": [
            "740edf17.7363c"
        ],
        "x": 804,
        "y": 659,
        "w": 82,
        "h": 82
    },
    {
        "id": "f3991c64.015ab8",
        "type": "group",
        "z": "472cf316.a032c4",
        "name": "PID parameters",
        "style": {
            "label": true,
            "fill": "#ffefbf",
            "color": "#000000"
        },
        "nodes": [
            "c76c7069.408c98",
            "11dd6b0.9c80895",
            "28028e9.c2b6c72",
            "b80f7788.a59368",
            "1f539647.af5eda",
            "a187d4f4.6b12b8",
            "e197eb2a.a625d",
            "b6136cec.653b28",
            "40c2d4fd.6926cc",
            "168569b9.74ad9e",
            "533289cc.c5a0c8",
            "2171f481.456784",
            "2767f17e.f37cf6",
            "d55b5cdd.296ef8"
        ],
        "x": 54,
        "y": 139,
        "w": 852,
        "h": 362
    },
    {
        "id": "ceb6968f.596908",
        "type": "group",
        "z": "b9f084d.1776c78",
        "name": "Sample rate",
        "style": {
            "label": true,
            "fill": "#ffefbf",
            "color": "#000000"
        },
        "nodes": [
            "c7f9d99.4486028",
            "3c8a5c7.c6f5ea4",
            "32c8472c.d65ed",
            "14780578.fac7d3"
        ],
        "x": 454,
        "y": 699,
        "w": 622,
        "h": 82
    },
    {
        "id": "f0fc5028.32d6a8",
        "type": "group",
        "z": "d0319a94.933848",
        "g": "446380d7.ea15e8",
        "name": "ARM 1",
        "style": {
            "label": true
        },
        "nodes": [
            "892f814c.4627c",
            "e08b09de.9f605"
        ],
        "x": 694,
        "y": 1079,
        "w": 352,
        "h": 82
    },
    {
        "id": "2f6fa9c1.a66a06",
        "type": "group",
        "z": "d0319a94.933848",
        "g": "446380d7.ea15e8",
        "name": "ARM 2",
        "style": {
            "label": true
        },
        "nodes": [
            "e99b152e.4aa8",
            "ce24bfc1.e0fbd"
        ],
        "x": 694,
        "y": 1199,
        "w": 352,
        "h": 82
    },
    {
        "id": "f101bbae.4501b",
        "type": "group",
        "z": "d0319a94.933848",
        "g": "8e799bae.813c4",
        "name": "ARM 1",
        "style": {
            "label": true
        },
        "nodes": [
            "c64d78f8.5a62b8",
            "aee24aa2.5a3ef",
            "435f3c2.f5c4f44"
        ],
        "x": 2774,
        "y": 159,
        "w": 552,
        "h": 82
    },
    {
        "id": "820e06a1.dbb25",
        "type": "group",
        "z": "d0319a94.933848",
        "g": "8e799bae.813c4",
        "name": "ARM 2",
        "style": {
            "label": true
        },
        "nodes": [
            "b256bd2c.0de278",
            "5d46759e.66c9bc",
            "e1d08ac9.c9fca8"
        ],
        "x": 2774,
        "y": 279,
        "w": 552,
        "h": 82
    },
    {
        "id": "d0266af7.3d318",
        "type": "group",
        "z": "d0319a94.933848",
        "g": "666a68bf.ca7fa",
        "name": "ARM 1",
        "style": {
            "label": true
        },
        "nodes": [
            "59c76b4e.7e0824",
            "3692b83d.df0298",
            "44fb82d8.5ec324"
        ],
        "x": 2234,
        "y": 439,
        "w": 572,
        "h": 82
    },
    {
        "id": "cdea3450.e3356",
        "type": "group",
        "z": "d0319a94.933848",
        "g": "666a68bf.ca7fa",
        "name": "ARM 2",
        "style": {
            "label": true
        },
        "nodes": [
            "ae3095c9.296df",
            "bfddd84.d61baa8",
            "dc979723.26832"
        ],
        "x": 2234,
        "y": 539,
        "w": 572,
        "h": 82
    },
    {
        "id": "83dfa8bc.276bd8",
        "type": "group",
        "z": "36a8cb83.a57434",
        "g": "3f230530.f52e92",
        "name": "ARM 3",
        "style": {
            "label": true
        },
        "nodes": [
            "cf1edc02.aaf2f",
            "592bc30.c034c3c"
        ],
        "x": 414,
        "y": 1199,
        "w": 332,
        "h": 82
    },
    {
        "id": "2ba23474.d0cf14",
        "type": "group",
        "z": "36a8cb83.a57434",
        "g": "e17fcd39.04a09",
        "name": "ARM 4",
        "style": {
            "label": true
        },
        "nodes": [
            "b586528c.d6cc68",
            "d93aad88.4785e8",
            "68abac34.f67e5c"
        ],
        "x": 1874,
        "y": 699,
        "w": 592,
        "h": 82
    },
    {
        "id": "bec3217e.4170d8",
        "type": "group",
        "z": "36a8cb83.a57434",
        "g": "3f230530.f52e92",
        "name": "ARM 4",
        "style": {
            "label": true
        },
        "nodes": [
            "e72c29fd.bf0e3",
            "4768eeae.1ff0b8"
        ],
        "x": 414,
        "y": 1319,
        "w": 332,
        "h": 82
    },
    {
        "id": "43b6fbc7.822c84",
        "type": "group",
        "z": "36a8cb83.a57434",
        "g": "e17fcd39.04a09",
        "name": "ARM 3",
        "style": {
            "label": true
        },
        "nodes": [
            "d0b2da9d.a5d1c",
            "ef46928d.95e0b",
            "9d32629b.51039"
        ],
        "x": 1874,
        "y": 599,
        "w": 592,
        "h": 82
    },
    {
        "id": "91a67c68.93205",
        "type": "group",
        "z": "d0319a94.933848",
        "name": "influxdb",
        "style": {
            "label": true
        },
        "nodes": [
            "7a72c354.d7c104"
        ],
        "x": 1694,
        "y": 1279,
        "w": 82,
        "h": 82
    },
    {
        "id": "d2db447d.0b37b8",
        "type": "group",
        "z": "36a8cb83.a57434",
        "name": "influxdb",
        "style": {
            "label": true
        },
        "nodes": [
            "29c59852.e671c"
        ],
        "x": 1494,
        "y": 1079,
        "w": 82,
        "h": 82
    },
    {
        "id": "6ef8a2b6.b9c6fc",
        "type": "group",
        "z": "d0319a94.933848",
        "name": "influxdb",
        "style": {
            "label": true
        },
        "nodes": [
            "e794dff9.1edaa"
        ],
        "x": 3054,
        "y": 479,
        "w": 82,
        "h": 82
    },
    {
        "id": "ea117545.ae958",
        "type": "group",
        "z": "36a8cb83.a57434",
        "name": "influxdb",
        "style": {
            "label": true
        },
        "nodes": [
            "f94eeb03.a04548"
        ],
        "x": 2694,
        "y": 639,
        "w": 82,
        "h": 82
    },
    {
        "id": "8680f5c5.8c3ab8",
        "type": "ui_base",
        "theme": {
            "name": "theme-light",
            "lightTheme": {
                "default": "#0094CE",
                "baseColor": "#0094CE",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": true,
                "reset": false
            },
            "darkTheme": {
                "default": "#097479",
                "baseColor": "#097479",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": true,
                "reset": false
            },
            "customTheme": {
                "name": "Untitled Theme 1",
                "default": "#4B7930",
                "baseColor": "#4B7930",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"
            },
            "themeState": {
                "base-color": {
                    "default": "#0094CE",
                    "value": "#0094CE",
                    "edited": false
                },
                "page-titlebar-backgroundColor": {
                    "value": "#0094CE",
                    "edited": false
                },
                "page-backgroundColor": {
                    "value": "#fafafa",
                    "edited": false
                },
                "page-sidebar-backgroundColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "group-textColor": {
                    "value": "#1bbfff",
                    "edited": false
                },
                "group-borderColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "group-backgroundColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "widget-textColor": {
                    "value": "#111111",
                    "edited": false
                },
                "widget-backgroundColor": {
                    "value": "#0094ce",
                    "edited": false
                },
                "widget-borderColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "base-font": {
                    "value": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"
                }
            },
            "angularTheme": {
                "primary": "indigo",
                "accents": "blue",
                "warn": "red",
                "background": "grey"
            }
        },
        "site": {
            "name": "Tapering UI",
            "hideToolbar": "true",
            "allowSwipe": "false",
            "lockMenu": "true",
            "allowTempTheme": "true",
            "dateFormat": "DD/MM/YYYY",
            "sizes": {
                "sx": 48,
                "sy": 48,
                "gx": 20,
                "gy": 6,
                "cx": 6,
                "cy": 6,
                "px": 0,
                "py": 0
            }
        }
    },
    {
        "id": "fa943f83.ed6f3",
        "type": "ui_group",
        "name": "Furnace",
        "tab": "f2b9b840.849ad",
        "order": 3,
        "disp": true,
        "width": 10,
        "collapse": true
    },
    {
        "id": "ffe1c026.b79e4",
        "type": "OpcUa-Endpoint",
        "endpoint": "opc.tcp://192.168.10.50:4840",
        "secpol": "None",
        "secmode": "None",
        "login": false
    },
    {
        "id": "c50b1cd6.b052d",
        "type": "ui_group",
        "name": "Motor control",
        "tab": "",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "590618eb.b8ddc8",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "c50b1cd6.b052d",
        "order": 2,
        "width": 1,
        "height": 1
    },
    {
        "id": "f2b9b840.849ad",
        "type": "ui_tab",
        "name": "Main",
        "icon": "dashboard",
        "order": 1,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "63b898e3.cb88b",
        "type": "ui_group",
        "name": "Feed side (Arms 1-2)",
        "tab": "f2b9b840.849ad",
        "order": 2,
        "disp": true,
        "width": "10",
        "collapse": false
    },
    {
        "id": "f277b7b3.2f1898",
        "type": "ui_group",
        "name": "Draw side (Arms 3-4)",
        "tab": "f2b9b840.849ad",
        "order": 4,
        "disp": true,
        "width": 10,
        "collapse": true
    },
    {
        "id": "f52b6c42.56ef1",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "",
        "order": 3,
        "width": 1,
        "height": 1
    },
    {
        "id": "31f2d4f0.0b8e2c",
        "type": "influxdb",
        "hostname": "127.0.0.1",
        "port": "8086",
        "protocol": "http",
        "database": "database",
        "name": "fames",
        "usetls": false,
        "tls": "",
        "influxdbVersion": "2.0",
        "url": "http://localhost:8086",
        "rejectUnauthorized": false
    },
    {
        "id": "5a59f44e.bb600c",
        "type": "ui_group",
        "name": "Global",
        "tab": "f2b9b840.849ad",
        "order": 1,
        "disp": false,
        "width": "30",
        "collapse": false
    },
    {
        "id": "9a6ee292.d7f558",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "63b898e3.cb88b",
        "order": 5,
        "width": 10,
        "height": 1
    },
    {
        "id": "ab9ffdee.1da37",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "63b898e3.cb88b",
        "order": 10,
        "width": 2,
        "height": 1
    },
    {
        "id": "bcd6bb02.fc8be",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "f277b7b3.2f1898",
        "order": 5,
        "width": 10,
        "height": 1
    },
    {
        "id": "86407fb9.c0fed8",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "f277b7b3.2f1898",
        "order": 10,
        "width": 2,
        "height": 1
    },
    {
        "id": "480e8eec.76c6d",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "f277b7b3.2f1898",
        "order": 11,
        "width": 10,
        "height": 1
    },
    {
        "id": "2b044364.47aa7c",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "63b898e3.cb88b",
        "order": 11,
        "width": "10",
        "height": 1
    },
    {
        "id": "92164c2e.bef808",
        "type": "OpcUa-Client",
        "z": "cd3c6c14.6a19b8",
        "endpoint": "ffe1c026.b79e4",
        "action": "write",
        "deadbandtype": "a",
        "deadbandvalue": 1,
        "time": 10,
        "timeUnit": "s",
        "certificate": "n",
        "localfile": "",
        "localkeyfile": "",
        "securitymode": "None",
        "securitypolicy": "None",
        "name": "write to lemon",
        "x": 2100,
        "y": 500,
        "wires": [
            []
        ]
    },
    {
        "id": "77071c6d.6debc4",
        "type": "ui_text_input",
        "z": "cd3c6c14.6a19b8",
        "name": "",
        "label": "Set speed ",
        "tooltip": "mm/min",
        "group": "63b898e3.cb88b",
        "order": 1,
        "width": 2,
        "height": 1,
        "passthru": false,
        "mode": "number",
        "delay": "0",
        "topic": "",
        "topicType": "str",
        "x": 1500,
        "y": 380,
        "wires": [
            [
                "b2eb0a03.e1fcf"
            ]
        ]
    },
    {
        "id": "b2eb0a03.e1fcf",
        "type": "function",
        "z": "cd3c6c14.6a19b8",
        "name": "fromRealUnit",
        "func": "// 0.01 is due to second gearbox not accounted for in plc units\n// 60 is seconds to a minute\n// 2*pi*r is the circumference of the drive\n\ncoef = 0.01 * 60 * (2 * Math.PI * flow.get('radius'));\n\nmsg.payload /= coef;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1670,
        "y": 380,
        "wires": [
            [
                "a3e136d8.68c86"
            ]
        ]
    },
    {
        "id": "cc7c0ac.94f4878",
        "type": "phidget22-connect",
        "z": "472cf316.a032c4",
        "port": "5661",
        "hostname": "localhost",
        "debug": false,
        "x": 130,
        "y": 60,
        "wires": [
            []
        ]
    },
    {
        "id": "11623147.a352af",
        "type": "ui_chart",
        "z": "472cf316.a032c4",
        "name": "",
        "group": "fa943f83.ed6f3",
        "order": 1,
        "width": 10,
        "height": 6,
        "label": "Temperature",
        "chartType": "line",
        "legend": "true",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "1",
        "removeOlderPoints": "",
        "removeOlderUnit": "60",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "x": 1150,
        "y": 600,
        "wires": [
            []
        ]
    },
    {
        "id": "671a928a.47199c",
        "type": "phidget22-digitaloutput",
        "z": "472cf316.a032c4",
        "g": "412e4124.cd2d18",
        "channel": "0",
        "deviceSerialNumber": "559642",
        "isHubPortDevice": false,
        "hubPort": "5",
        "debug": false,
        "LEDCurrentLimit": 0.02,
        "LEDForwardVoltage": 1,
        "x": 1700,
        "y": 740,
        "wires": [
            [
                "ff868aaf.bf8008"
            ]
        ]
    },
    {
        "id": "ce0c4bb1.ee7488",
        "type": "phidget22-connect",
        "z": "39f681b1.fd6a4e",
        "port": "5661",
        "hostname": "localhost",
        "debug": false,
        "x": 150,
        "y": 60,
        "wires": [
            []
        ]
    },
    {
        "id": "49c47775.50ca4",
        "type": "phidget22-voltageratioinput",
        "z": "39f681b1.fd6a4e",
        "g": "6a8645c6.774334",
        "channel": 0,
        "deviceSerialNumber": "561741",
        "isHubPortDevice": false,
        "hubPort": "4",
        "debug": false,
        "dataInterval": "200",
        "voltageRatioChangeTrigger": 0,
        "sensorType": 0,
        "bridgeGain": "7",
        "x": 380,
        "y": 260,
        "wires": [
            [
                "1f680714.ce4601"
            ]
        ]
    },
    {
        "id": "65560268.c466c4",
        "type": "ui_chart",
        "z": "39f681b1.fd6a4e",
        "name": "",
        "group": "fa943f83.ed6f3",
        "order": 8,
        "width": 10,
        "height": 7,
        "label": "Strain",
        "chartType": "line",
        "legend": "true",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "1",
        "removeOlderPoints": "",
        "removeOlderUnit": "60",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "x": 1300,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "cec384a2.b8b4e",
        "type": "phidget22-voltageratioinput",
        "z": "39f681b1.fd6a4e",
        "g": "2eda63f4.7d845c",
        "channel": "1",
        "deviceSerialNumber": "561741",
        "isHubPortDevice": false,
        "hubPort": "4",
        "debug": false,
        "dataInterval": "200",
        "voltageRatioChangeTrigger": 0,
        "sensorType": 0,
        "bridgeGain": "7",
        "x": 380,
        "y": 360,
        "wires": [
            [
                "62630b25.d9e8c4"
            ]
        ]
    },
    {
        "id": "2513049d.8fac1c",
        "type": "ui_button",
        "z": "39f681b1.fd6a4e",
        "name": "",
        "group": "fa943f83.ed6f3",
        "order": 9,
        "width": 2,
        "height": 1,
        "passthru": true,
        "label": "Zero",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "setOffset",
        "topicType": "str",
        "x": 410,
        "y": 740,
        "wires": [
            [
                "b70c9ca5.a29e2",
                "2004fe14.587f8a",
                "62630b25.d9e8c4",
                "1f680714.ce4601"
            ]
        ]
    },
    {
        "id": "2e7c1c51.2896b4",
        "type": "phidget22-voltageratioinput",
        "z": "39f681b1.fd6a4e",
        "g": "46abe05b.171a2",
        "channel": 0,
        "deviceSerialNumber": "561741",
        "isHubPortDevice": false,
        "hubPort": "5",
        "debug": false,
        "dataInterval": "200",
        "voltageRatioChangeTrigger": 0,
        "sensorType": 0,
        "bridgeGain": "7",
        "x": 380,
        "y": 460,
        "wires": [
            [
                "2004fe14.587f8a"
            ]
        ]
    },
    {
        "id": "8505330a.300fb8",
        "type": "phidget22-voltageratioinput",
        "z": "39f681b1.fd6a4e",
        "g": "b30a1226.a9bee8",
        "channel": "1",
        "deviceSerialNumber": "561741",
        "isHubPortDevice": false,
        "hubPort": "5",
        "debug": false,
        "dataInterval": "200",
        "voltageRatioChangeTrigger": 0,
        "sensorType": 0,
        "bridgeGain": "7",
        "x": 380,
        "y": 560,
        "wires": [
            [
                "b70c9ca5.a29e2"
            ]
        ]
    },
    {
        "id": "2f2ed952.2cb95e",
        "type": "phidget22-connect",
        "z": "d0319a94.933848",
        "port": "5661",
        "hostname": "localhost",
        "debug": false,
        "x": 130,
        "y": 60,
        "wires": [
            []
        ]
    },
    {
        "id": "c64d78f8.5a62b8",
        "type": "phidget22-digitaloutput",
        "z": "d0319a94.933848",
        "d": true,
        "g": "f101bbae.4501b",
        "channel": 0,
        "deviceSerialNumber": "559068",
        "isHubPortDevice": false,
        "hubPort": "4",
        "debug": false,
        "LEDCurrentLimit": 0.02,
        "LEDForwardVoltage": "7",
        "x": 3060,
        "y": 200,
        "wires": [
            [
                "435f3c2.f5c4f44"
            ]
        ]
    },
    {
        "id": "59c76b4e.7e0824",
        "type": "phidget22-voltageoutput",
        "z": "d0319a94.933848",
        "g": "d0266af7.3d318",
        "channel": 0,
        "deviceSerialNumber": "559068",
        "hubPort": 0,
        "debug": false,
        "voltageOutputRange": "1",
        "x": 2550,
        "y": 480,
        "wires": [
            [
                "44fb82d8.5ec324"
            ]
        ]
    },
    {
        "id": "80b7173c.a29828",
        "type": "ui_chart",
        "z": "d0319a94.933848",
        "name": "",
        "group": "63b898e3.cb88b",
        "order": 12,
        "width": 0,
        "height": 0,
        "label": "Diameter",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "1",
        "removeOlderPoints": "",
        "removeOlderUnit": "60",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "x": 1960,
        "y": 1080,
        "wires": [
            []
        ]
    },
    {
        "id": "892f814c.4627c",
        "type": "phidget22-encoder",
        "z": "d0319a94.933848",
        "g": "f0fc5028.32d6a8",
        "channel": 0,
        "deviceSerialNumber": "561741",
        "hubPort": "0",
        "debug": false,
        "IOMode": "1",
        "dataInterval": "200",
        "positionChangeTrigger": "0",
        "enabled": false,
        "x": 790,
        "y": 1120,
        "wires": [
            [
                "e08b09de.9f605"
            ]
        ]
    },
    {
        "id": "be9a7643.78ca9",
        "type": "ui_button",
        "z": "d0319a94.933848",
        "name": "",
        "group": "63b898e3.cb88b",
        "order": 7,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "Close",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "{\"dutyCycle\":0}",
        "payloadType": "json",
        "topic": "setDutyCycle",
        "topicType": "str",
        "x": 730,
        "y": 540,
        "wires": [
            [
                "211a2c81.638ccc",
                "63ff8ab.8af12f4"
            ]
        ]
    },
    {
        "id": "b256bd2c.0de278",
        "type": "phidget22-digitaloutput",
        "z": "d0319a94.933848",
        "d": true,
        "g": "820e06a1.dbb25",
        "channel": "1",
        "deviceSerialNumber": "559068",
        "isHubPortDevice": false,
        "hubPort": "4",
        "debug": false,
        "LEDCurrentLimit": 0.02,
        "LEDForwardVoltage": "7",
        "x": 3060,
        "y": 320,
        "wires": [
            [
                "e1d08ac9.c9fca8"
            ]
        ]
    },
    {
        "id": "ae3095c9.296df",
        "type": "phidget22-voltageoutput",
        "z": "d0319a94.933848",
        "g": "cdea3450.e3356",
        "channel": 0,
        "deviceSerialNumber": "559068",
        "hubPort": "1",
        "debug": false,
        "voltageOutputRange": "1",
        "x": 2550,
        "y": 580,
        "wires": [
            [
                "dc979723.26832"
            ]
        ]
    },
    {
        "id": "e99b152e.4aa8",
        "type": "phidget22-encoder",
        "z": "d0319a94.933848",
        "g": "2f6fa9c1.a66a06",
        "channel": 0,
        "deviceSerialNumber": "561741",
        "hubPort": "1",
        "debug": false,
        "IOMode": "1",
        "dataInterval": "200",
        "positionChangeTrigger": "0",
        "enabled": false,
        "x": 790,
        "y": 1240,
        "wires": [
            [
                "ce24bfc1.e0fbd"
            ]
        ]
    },
    {
        "id": "52b0759b.5c6144",
        "type": "change",
        "z": "d0319a94.933848",
        "name": "true",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 550,
        "y": 460,
        "wires": [
            [
                "be9a7643.78ca9",
                "eaddfd57.90b278",
                "7becfae6.4e8254",
                "d08d3fe5.477d28"
            ]
        ]
    },
    {
        "id": "d08d3fe5.477d28",
        "type": "ui_button",
        "z": "d0319a94.933848",
        "name": "",
        "group": "63b898e3.cb88b",
        "order": 9,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "Release",
        "tooltip": "",
        "color": "",
        "bgcolor": "red",
        "icon": "",
        "payload": "0",
        "payloadType": "json",
        "topic": "setVoltage",
        "topicType": "str",
        "x": 740,
        "y": 720,
        "wires": [
            [
                "bfddd84.d61baa8",
                "3692b83d.df0298"
            ]
        ]
    },
    {
        "id": "f4ace7a2.bec3c",
        "type": "phidget22-temperaturesensor",
        "z": "472cf316.a032c4",
        "g": "c622cdd4.6d49c8",
        "channel": "0",
        "deviceSerialNumber": "626036",
        "hubPort": "1",
        "debug": false,
        "dataInterval": "200",
        "temperatureChangeTrigger": 0,
        "RTDWireSetup": 3,
        "RTDType": 2,
        "thermocoupleType": "1",
        "x": 300,
        "y": 840,
        "wires": [
            [
                "3923836d.997354"
            ]
        ]
    },
    {
        "id": "27ab509f.2f5a1",
        "type": "phidget22-temperaturesensor",
        "z": "472cf316.a032c4",
        "g": "8d7f6ed9.f5bfc",
        "channel": "0",
        "deviceSerialNumber": "626036",
        "hubPort": "3",
        "debug": false,
        "dataInterval": "200",
        "temperatureChangeTrigger": 0,
        "RTDWireSetup": 3,
        "RTDType": 2,
        "thermocoupleType": "1",
        "x": 300,
        "y": 1040,
        "wires": [
            [
                "cc3ac605.b0889"
            ]
        ]
    },
    {
        "id": "7a3fcb86.106d54",
        "type": "phidget22-temperaturesensor",
        "z": "472cf316.a032c4",
        "d": true,
        "g": "ea8e2d80.cca938",
        "channel": "0",
        "deviceSerialNumber": "626036",
        "hubPort": "2",
        "debug": false,
        "dataInterval": "200",
        "temperatureChangeTrigger": 0,
        "RTDWireSetup": 3,
        "RTDType": 2,
        "thermocoupleType": "1",
        "x": 300,
        "y": 940,
        "wires": [
            [
                "766e3bd5.7c1b2c"
            ]
        ]
    },
    {
        "id": "257e7bac.6143d4",
        "type": "phidget22-temperaturesensor",
        "z": "472cf316.a032c4",
        "g": "de28e6a4.6494e",
        "channel": "0",
        "deviceSerialNumber": "626036",
        "hubPort": "0",
        "debug": false,
        "dataInterval": "200",
        "temperatureChangeTrigger": 0,
        "RTDWireSetup": 3,
        "RTDType": 2,
        "thermocoupleType": "1",
        "x": 300,
        "y": 740,
        "wires": [
            [
                "94e70763.3395b8"
            ]
        ]
    },
    {
        "id": "4282a3a7.3667ec",
        "type": "phidget22-digitaloutput",
        "z": "472cf316.a032c4",
        "g": "864361a2.693d7",
        "channel": "1",
        "deviceSerialNumber": "559642",
        "isHubPortDevice": false,
        "hubPort": "5",
        "debug": false,
        "LEDCurrentLimit": 0.02,
        "LEDForwardVoltage": 1,
        "x": 1700,
        "y": 840,
        "wires": [
            [
                "937161e8.3942f8"
            ]
        ]
    },
    {
        "id": "1d5da6b.b9983d9",
        "type": "ui_chart",
        "z": "472cf316.a032c4",
        "d": true,
        "name": "",
        "group": "fa943f83.ed6f3",
        "order": 2,
        "width": 10,
        "height": 6,
        "label": "Power",
        "chartType": "line",
        "legend": "true",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "This is the power being fed into the heating elements.",
        "dot": false,
        "ymin": "0",
        "ymax": "",
        "removeOlder": "1",
        "removeOlderPoints": "",
        "removeOlderUnit": "60",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "x": 2350,
        "y": 520,
        "wires": [
            []
        ]
    },
    {
        "id": "f15d55fe.96273",
        "type": "change",
        "z": "472cf316.a032c4",
        "g": "412e4124.cd2d18",
        "name": "setDutyCycle",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "setDutyCycle",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{ \"dutyCycle\" : (msg.payload) }",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1510,
        "y": 740,
        "wires": [
            [
                "671a928a.47199c",
                "ff868aaf.bf8008"
            ]
        ]
    },
    {
        "id": "c3887544.7385d8",
        "type": "change",
        "z": "472cf316.a032c4",
        "g": "864361a2.693d7",
        "name": "setDutyCycle",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "setDutyCycle",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{ \"dutyCycle\" : (msg.payload) }",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1510,
        "y": 840,
        "wires": [
            [
                "4282a3a7.3667ec",
                "937161e8.3942f8"
            ]
        ]
    },
    {
        "id": "5a69be94.4a9278",
        "type": "phidget22-digitaloutput",
        "z": "472cf316.a032c4",
        "d": true,
        "g": "a66af1c7.2c52e8",
        "channel": "2",
        "deviceSerialNumber": "559642",
        "isHubPortDevice": false,
        "hubPort": "5",
        "debug": false,
        "LEDCurrentLimit": 0.02,
        "LEDForwardVoltage": 1,
        "x": 1700,
        "y": 940,
        "wires": [
            [
                "42957ccf.8c6954"
            ]
        ]
    },
    {
        "id": "2e3994f.0fbdc6c",
        "type": "change",
        "z": "472cf316.a032c4",
        "d": true,
        "g": "a66af1c7.2c52e8",
        "name": "setDutyCycle",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "setDutyCycle",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{ \"dutyCycle\" : (msg.payload) }",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1510,
        "y": 940,
        "wires": [
            [
                "5a69be94.4a9278",
                "42957ccf.8c6954"
            ]
        ]
    },
    {
        "id": "21c2048c.fcca44",
        "type": "phidget22-digitaloutput",
        "z": "472cf316.a032c4",
        "g": "db10a9d6.3cf4e8",
        "channel": "3",
        "deviceSerialNumber": "559642",
        "isHubPortDevice": false,
        "hubPort": "5",
        "debug": false,
        "LEDCurrentLimit": 0.02,
        "LEDForwardVoltage": 1,
        "x": 1700,
        "y": 1040,
        "wires": [
            [
                "a4400c08.d2ce98"
            ]
        ]
    },
    {
        "id": "4024fc44.4a45ac",
        "type": "change",
        "z": "472cf316.a032c4",
        "g": "db10a9d6.3cf4e8",
        "name": "setDutyCycle",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "setDutyCycle",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{ \"dutyCycle\" : (msg.payload) }",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1510,
        "y": 1040,
        "wires": [
            [
                "21c2048c.fcca44",
                "a4400c08.d2ce98"
            ]
        ]
    },
    {
        "id": "c04ebff4.2d987",
        "type": "phidget22-temperaturesensor",
        "z": "472cf316.a032c4",
        "g": "4a6d0eb9.05129",
        "channel": "0",
        "deviceSerialNumber": "559642",
        "hubPort": "1",
        "debug": false,
        "dataInterval": "200",
        "temperatureChangeTrigger": 0,
        "RTDWireSetup": 3,
        "RTDType": 2,
        "thermocoupleType": "1",
        "x": 300,
        "y": 1440,
        "wires": [
            [
                "1f679a1d.da07ce"
            ]
        ]
    },
    {
        "id": "31fc6597.3b1122",
        "type": "phidget22-temperaturesensor",
        "z": "472cf316.a032c4",
        "g": "d32a617b.531d98",
        "channel": "0",
        "deviceSerialNumber": "626036",
        "hubPort": "5",
        "debug": false,
        "dataInterval": "200",
        "temperatureChangeTrigger": 0,
        "RTDWireSetup": 3,
        "RTDType": 2,
        "thermocoupleType": "1",
        "x": 300,
        "y": 1240,
        "wires": [
            [
                "96cd42bb.c5194"
            ]
        ]
    },
    {
        "id": "e417d705.6ef3",
        "type": "phidget22-temperaturesensor",
        "z": "472cf316.a032c4",
        "g": "e29bdb60.c65598",
        "channel": "0",
        "deviceSerialNumber": "559642",
        "hubPort": "0",
        "debug": false,
        "dataInterval": "200",
        "temperatureChangeTrigger": 0,
        "RTDWireSetup": 3,
        "RTDType": 2,
        "thermocoupleType": "1",
        "x": 300,
        "y": 1340,
        "wires": [
            [
                "f2eb6b48.3381b"
            ]
        ]
    },
    {
        "id": "f9ee7d4b.00db58",
        "type": "phidget22-temperaturesensor",
        "z": "472cf316.a032c4",
        "g": "2bdf9297.27d11e",
        "channel": "0",
        "deviceSerialNumber": "626036",
        "hubPort": "4",
        "debug": false,
        "dataInterval": "200",
        "temperatureChangeTrigger": 0,
        "RTDWireSetup": 3,
        "RTDType": 2,
        "thermocoupleType": "1",
        "x": 300,
        "y": 1140,
        "wires": [
            [
                "4df265ae.506b7c"
            ]
        ]
    },
    {
        "id": "cf4077f4.f30dc",
        "type": "phidget22-temperaturesensor",
        "z": "472cf316.a032c4",
        "g": "981bb9d1.31d21",
        "channel": "0",
        "deviceSerialNumber": "559642",
        "hubPort": "3",
        "debug": false,
        "dataInterval": "200",
        "temperatureChangeTrigger": 0,
        "RTDWireSetup": 3,
        "RTDType": 2,
        "thermocoupleType": "1",
        "x": 300,
        "y": 1640,
        "wires": [
            [
                "984c6943.ae625"
            ]
        ]
    },
    {
        "id": "26fec770.ee05b",
        "type": "phidget22-temperaturesensor",
        "z": "472cf316.a032c4",
        "g": "c38e4093.6b7da",
        "channel": "0",
        "deviceSerialNumber": "559642",
        "hubPort": "2",
        "debug": false,
        "dataInterval": "200",
        "temperatureChangeTrigger": 0,
        "RTDWireSetup": 3,
        "RTDType": 2,
        "thermocoupleType": "1",
        "x": 300,
        "y": 1540,
        "wires": [
            [
                "b29781a7.05bf48"
            ]
        ]
    },
    {
        "id": "23e35199.a3a486",
        "type": "switch",
        "z": "d0319a94.933848",
        "name": "isBusy",
        "property": "busy",
        "propertyType": "flow",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 410,
        "y": 480,
        "wires": [
            [
                "52b0759b.5c6144"
            ],
            [
                "ac15316d.3f788"
            ]
        ]
    },
    {
        "id": "ac15316d.3f788",
        "type": "change",
        "z": "d0319a94.933848",
        "name": "false",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 550,
        "y": 500,
        "wires": [
            [
                "be9a7643.78ca9",
                "eaddfd57.90b278",
                "7becfae6.4e8254",
                "d08d3fe5.477d28"
            ]
        ]
    },
    {
        "id": "4ce88669.ad009",
        "type": "link in",
        "z": "d0319a94.933848",
        "d": true,
        "g": "8e799bae.813c4",
        "name": "direction",
        "links": [
            "96d291ae.3028c8",
            "f4dcbb6e.00a928"
        ],
        "x": 2695,
        "y": 260,
        "wires": [
            [
                "aee24aa2.5a3ef",
                "5d46759e.66c9bc"
            ]
        ]
    },
    {
        "id": "eaddfd57.90b278",
        "type": "ui_button",
        "z": "d0319a94.933848",
        "name": "",
        "group": "63b898e3.cb88b",
        "order": 6,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "Init",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "{\"dutyCycle\":1}",
        "payloadType": "json",
        "topic": "setDutyCycle",
        "topicType": "str",
        "x": 730,
        "y": 340,
        "wires": [
            [
                "4175d55f.a20384",
                "63ff8ab.8af12f4"
            ]
        ]
    },
    {
        "id": "7b6fc4a.27cdd3c",
        "type": "inject",
        "z": "d0319a94.933848",
        "name": "update",
        "props": [],
        "repeat": "0.5",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "x": 240,
        "y": 480,
        "wires": [
            [
                "23e35199.a3a486"
            ]
        ]
    },
    {
        "id": "9a8fc17c.a89fb8",
        "type": "phidget22-connect",
        "z": "36a8cb83.a57434",
        "port": "5661",
        "hostname": "localhost",
        "debug": false,
        "x": 130,
        "y": 60,
        "wires": [
            []
        ]
    },
    {
        "id": "cf1edc02.aaf2f",
        "type": "phidget22-encoder",
        "z": "36a8cb83.a57434",
        "g": "83dfa8bc.276bd8",
        "channel": 0,
        "deviceSerialNumber": "561741",
        "hubPort": "2",
        "debug": false,
        "IOMode": "1",
        "dataInterval": "200",
        "positionChangeTrigger": "0",
        "enabled": false,
        "x": 510,
        "y": 1240,
        "wires": [
            [
                "592bc30.c034c3c"
            ]
        ]
    },
    {
        "id": "b586528c.d6cc68",
        "type": "phidget22-voltageoutput",
        "z": "36a8cb83.a57434",
        "g": "2ba23474.d0cf14",
        "channel": 0,
        "deviceSerialNumber": "559068",
        "hubPort": "3",
        "debug": false,
        "voltageOutputRange": "1",
        "x": 2190,
        "y": 740,
        "wires": [
            [
                "68abac34.f67e5c"
            ]
        ]
    },
    {
        "id": "3094f702.60c98",
        "type": "ui_chart",
        "z": "36a8cb83.a57434",
        "name": "",
        "group": "f277b7b3.2f1898",
        "order": 12,
        "width": 10,
        "height": 6,
        "label": "Diameter",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "1",
        "removeOlderPoints": "",
        "removeOlderUnit": "60",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "x": 1780,
        "y": 1360,
        "wires": [
            []
        ]
    },
    {
        "id": "453b7501.f48674",
        "type": "ui_button",
        "z": "36a8cb83.a57434",
        "name": "",
        "group": "f277b7b3.2f1898",
        "order": 6,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "Init",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "{\"dutyCycle\":0}",
        "payloadType": "json",
        "topic": "setDutyCycle",
        "topicType": "str",
        "x": 590,
        "y": 760,
        "wires": [
            [
                "1356ca67.7f0946",
                "3ca6ca7.541f5b6"
            ]
        ]
    },
    {
        "id": "205c5a38.e615fe",
        "type": "change",
        "z": "36a8cb83.a57434",
        "name": "true",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 430,
        "y": 680,
        "wires": [
            [
                "453b7501.f48674",
                "378b79f3.b9a3ce",
                "b3f928cb.0ac13",
                "21cd9c6f.1f3cec"
            ]
        ]
    },
    {
        "id": "b49a41a1.3df3a8",
        "type": "switch",
        "z": "36a8cb83.a57434",
        "name": "isBusy",
        "property": "busy",
        "propertyType": "flow",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 290,
        "y": 700,
        "wires": [
            [
                "205c5a38.e615fe"
            ],
            [
                "7cd2766d.9bf4f8"
            ]
        ]
    },
    {
        "id": "7cd2766d.9bf4f8",
        "type": "change",
        "z": "36a8cb83.a57434",
        "name": "false",
        "rules": [
            {
                "t": "set",
                "p": "enabled",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 430,
        "y": 720,
        "wires": [
            [
                "453b7501.f48674",
                "378b79f3.b9a3ce",
                "b3f928cb.0ac13",
                "21cd9c6f.1f3cec"
            ]
        ]
    },
    {
        "id": "1356ca67.7f0946",
        "type": "change",
        "z": "36a8cb83.a57434",
        "name": "setBusy",
        "rules": [
            {
                "t": "set",
                "p": "busy",
                "pt": "flow",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 820,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "378b79f3.b9a3ce",
        "type": "ui_button",
        "z": "36a8cb83.a57434",
        "name": "",
        "group": "f277b7b3.2f1898",
        "order": 7,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "Close",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "{\"dutyCycle\":1}",
        "payloadType": "json",
        "topic": "setDutyCycle",
        "topicType": "str",
        "x": 590,
        "y": 660,
        "wires": [
            [
                "1356ca67.7f0946",
                "e25be2f.d1ff02"
            ]
        ]
    },
    {
        "id": "5cbae1da.ea1f9",
        "type": "inject",
        "z": "36a8cb83.a57434",
        "name": "update",
        "props": [],
        "repeat": "0.5",
        "crontab": "",
        "once": true,
        "onceDelay": "0.1",
        "topic": "",
        "payloadType": "str",
        "x": 140,
        "y": 700,
        "wires": [
            [
                "b49a41a1.3df3a8"
            ]
        ]
    },
    {
        "id": "e339ec2d.5e005",
        "type": "inject",
        "z": "36a8cb83.a57434",
        "name": "init",
        "props": [],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "x": 130,
        "y": 140,
        "wires": [
            [
                "bf0e6ea8.cacf5"
            ]
        ]
    },
    {
        "id": "bf0e6ea8.cacf5",
        "type": "change",
        "z": "36a8cb83.a57434",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "busy",
                "pt": "flow",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 360,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "be4080be.980bb",
        "type": "easing",
        "z": "36a8cb83.a57434",
        "name": "",
        "easingType": "easeInOutQuad",
        "outputType": "asArray",
        "duration": "4000",
        "interval": "200",
        "numberOfValues": 10,
        "x": 970,
        "y": 820,
        "wires": [
            [
                "8d3a9d47.4bf428"
            ]
        ]
    },
    {
        "id": "d93aad88.4785e8",
        "type": "change",
        "z": "36a8cb83.a57434",
        "g": "2ba23474.d0cf14",
        "name": "setVoltage",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "setVoltage",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "pressures.ARM4",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"voltage\":(payload)}",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1970,
        "y": 740,
        "wires": [
            [
                "b586528c.d6cc68",
                "68abac34.f67e5c"
            ]
        ]
    },
    {
        "id": "cf31de12.1ed858",
        "type": "function",
        "z": "36a8cb83.a57434",
        "name": "",
        "func": "var position = global.get('pressures').IV4;\nvar destination = 10;\n\nvar distance = Math.abs(destination-position);\n\n//this is the velocity of the setpoint\nvar velocity = 0.2; // mm/step\n\nvar nsteps = distance/velocity;\n\nvar interval = 100; // ms/step\n\nvar duration = nsteps*interval;\n\nmsg.payload = { from:position, \n                to:destination, \n                size:nsteps };\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 820,
        "y": 820,
        "wires": [
            [
                "be4080be.980bb"
            ]
        ]
    },
    {
        "id": "8d3a9d47.4bf428",
        "type": "split",
        "z": "36a8cb83.a57434",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1110,
        "y": 820,
        "wires": [
            [
                "d32276c4.d7aec8"
            ]
        ]
    },
    {
        "id": "d32276c4.d7aec8",
        "type": "delay",
        "z": "36a8cb83.a57434",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "10",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 1280,
        "y": 820,
        "wires": [
            [
                "dde59eb4.b51be",
                "d93aad88.4785e8"
            ]
        ]
    },
    {
        "id": "dde59eb4.b51be",
        "type": "switch",
        "z": "36a8cb83.a57434",
        "name": "",
        "property": "parts.index",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "(msg.parts.count-1)",
                "vt": "jsonata"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1470,
        "y": 820,
        "wires": [
            [
                "e2516b3d.c1662"
            ]
        ]
    },
    {
        "id": "359553cd.fb05cc",
        "type": "easing",
        "z": "36a8cb83.a57434",
        "name": "",
        "easingType": "easeInOutQuad",
        "outputType": "asArray",
        "duration": "4000",
        "interval": "200",
        "numberOfValues": 10,
        "x": 970,
        "y": 760,
        "wires": [
            [
                "e7229cf1.686828"
            ]
        ]
    },
    {
        "id": "3ca6ca7.541f5b6",
        "type": "function",
        "z": "36a8cb83.a57434",
        "name": "",
        "func": "var position = global.get('pressures').IV3;\nvar destination = 10;\n\nvar distance = Math.abs(destination-position);\n\n//this is the velocity of the setpoint\nvar velocity = 0.2; // mm/step\n\nvar nsteps = distance/velocity;\n\nvar interval = 100; // ms/step\n\nvar duration = nsteps*interval;\n\nmsg.payload = { from:position, \n                to:destination, \n                size:nsteps };\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 820,
        "y": 760,
        "wires": [
            [
                "359553cd.fb05cc"
            ]
        ]
    },
    {
        "id": "e7229cf1.686828",
        "type": "split",
        "z": "36a8cb83.a57434",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1110,
        "y": 760,
        "wires": [
            [
                "b9191b42.30996"
            ]
        ]
    },
    {
        "id": "b9191b42.30996",
        "type": "delay",
        "z": "36a8cb83.a57434",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "10",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 1280,
        "y": 760,
        "wires": [
            [
                "f5ecda00.98c9c",
                "ef46928d.95e0b"
            ]
        ]
    },
    {
        "id": "f5ecda00.98c9c",
        "type": "switch",
        "z": "36a8cb83.a57434",
        "name": "",
        "property": "parts.index",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "(msg.parts.count-1)",
                "vt": "jsonata"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1470,
        "y": 760,
        "wires": [
            [
                "cf31de12.1ed858"
            ]
        ]
    },
    {
        "id": "74c7f506.0c5b5c",
        "type": "delay",
        "z": "36a8cb83.a57434",
        "name": "",
        "pauseType": "delay",
        "timeout": "500",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 470,
        "y": 940,
        "wires": [
            [
                "7ff71eed.f2476",
                "7a40e378.67ca7c"
            ]
        ]
    },
    {
        "id": "c5bac155.4236",
        "type": "easing",
        "z": "36a8cb83.a57434",
        "name": "",
        "easingType": "easeInOutQuad",
        "outputType": "asArray",
        "duration": "4000",
        "interval": "200",
        "numberOfValues": 10,
        "x": 970,
        "y": 660,
        "wires": [
            [
                "74800cbf.723cfc"
            ]
        ]
    },
    {
        "id": "e25be2f.d1ff02",
        "type": "function",
        "z": "36a8cb83.a57434",
        "name": "",
        "func": "var position = global.get('pressures').IV3;\nvar destination = 5;\n\nvar distance = Math.abs(destination-position);\n\n//this is the velocity of the setpoint\nvar velocity = 0.2; // mm/step\n\nvar nsteps = distance/velocity;\n\nvar interval = 100; // ms/step\n\nvar duration = nsteps*interval;\n\nmsg.payload = { from:position, \n                to:destination, \n                size:nsteps };\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 820,
        "y": 660,
        "wires": [
            [
                "c5bac155.4236"
            ]
        ]
    },
    {
        "id": "74800cbf.723cfc",
        "type": "split",
        "z": "36a8cb83.a57434",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1110,
        "y": 660,
        "wires": [
            [
                "3f7e28d6.3eaba"
            ]
        ]
    },
    {
        "id": "3f7e28d6.3eaba",
        "type": "delay",
        "z": "36a8cb83.a57434",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "10",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 1280,
        "y": 660,
        "wires": [
            [
                "69d200b2.86fb58",
                "ef46928d.95e0b"
            ]
        ]
    },
    {
        "id": "69d200b2.86fb58",
        "type": "switch",
        "z": "36a8cb83.a57434",
        "name": "",
        "property": "parts.index",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "(msg.parts.count-1)",
                "vt": "jsonata"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1470,
        "y": 660,
        "wires": [
            [
                "887d1b1e.9053"
            ]
        ]
    },
    {
        "id": "d5fa8cac.d2f35",
        "type": "change",
        "z": "36a8cb83.a57434",
        "name": "unsetBusy",
        "rules": [
            {
                "t": "set",
                "p": "busy",
                "pt": "flow",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1910,
        "y": 260,
        "wires": [
            []
        ]
    },
    {
        "id": "21cd9c6f.1f3cec",
        "type": "ui_button",
        "z": "36a8cb83.a57434",
        "name": "",
        "group": "f277b7b3.2f1898",
        "order": 9,
        "width": 2,
        "height": 1,
        "passthru": true,
        "label": "Release",
        "tooltip": "",
        "color": "",
        "bgcolor": "red",
        "icon": "",
        "payload": "{\"voltage\":0}",
        "payloadType": "json",
        "topic": "setVoltage",
        "topicType": "str",
        "x": 580,
        "y": 460,
        "wires": [
            [
                "1356ca67.7f0946",
                "46c0b3af.048a3c"
            ]
        ]
    },
    {
        "id": "565db1a5.833e4",
        "type": "easing",
        "z": "36a8cb83.a57434",
        "name": "",
        "easingType": "easeInOutQuad",
        "outputType": "asArray",
        "duration": "4000",
        "interval": "200",
        "numberOfValues": 10,
        "x": 970,
        "y": 460,
        "wires": [
            [
                "bdbfe14.95c922"
            ]
        ]
    },
    {
        "id": "46c0b3af.048a3c",
        "type": "function",
        "z": "36a8cb83.a57434",
        "name": "",
        "func": "var position = flow.get('pressures').ARM4;\nvar destination = 0;\n\nvar distance = Math.abs(destination-position);\n\n//this is the velocity of the setpoint\nvar velocity = 0.2; // mm/step\n\nvar nsteps = distance/velocity;\n\nvar interval = 100; // ms/step\n\nvar duration = nsteps*interval;\n\nmsg.payload = { from:position, \n                to:destination, \n                size:nsteps };\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 820,
        "y": 460,
        "wires": [
            [
                "565db1a5.833e4"
            ]
        ]
    },
    {
        "id": "bdbfe14.95c922",
        "type": "split",
        "z": "36a8cb83.a57434",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1110,
        "y": 460,
        "wires": [
            [
                "dce731c5.274ce"
            ]
        ]
    },
    {
        "id": "dce731c5.274ce",
        "type": "delay",
        "z": "36a8cb83.a57434",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "10",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 1280,
        "y": 460,
        "wires": [
            [
                "fa344fa0.996ae",
                "d93aad88.4785e8"
            ]
        ]
    },
    {
        "id": "fa344fa0.996ae",
        "type": "switch",
        "z": "36a8cb83.a57434",
        "name": "",
        "property": "parts.index",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "(msg.parts.count-1)",
                "vt": "jsonata"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1470,
        "y": 460,
        "wires": [
            [
                "f3b03ea1.f4b88"
            ]
        ]
    },
    {
        "id": "3dccf4a8.2a5a14",
        "type": "easing",
        "z": "36a8cb83.a57434",
        "name": "",
        "easingType": "easeInOutQuad",
        "outputType": "asArray",
        "duration": "4000",
        "interval": "200",
        "numberOfValues": 10,
        "x": 970,
        "y": 520,
        "wires": [
            [
                "4a064a28.4dbcd4"
            ]
        ]
    },
    {
        "id": "f3b03ea1.f4b88",
        "type": "function",
        "z": "36a8cb83.a57434",
        "name": "",
        "func": "var position = flow.get('pressures').ARM3;\nvar destination = 0;\n\nvar distance = Math.abs(destination-position);\n\n//this is the velocity of the setpoint\nvar velocity = 0.2; // mm/step\n\nvar nsteps = distance/velocity;\n\nvar interval = 100; // ms/step\n\nvar duration = nsteps*interval;\n\nmsg.payload = { from:position, \n                to:destination, \n                size:nsteps };\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 820,
        "y": 520,
        "wires": [
            [
                "3dccf4a8.2a5a14"
            ]
        ]
    },
    {
        "id": "4a064a28.4dbcd4",
        "type": "split",
        "z": "36a8cb83.a57434",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1110,
        "y": 520,
        "wires": [
            [
                "25a80d77.e144da"
            ]
        ]
    },
    {
        "id": "25a80d77.e144da",
        "type": "delay",
        "z": "36a8cb83.a57434",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "10",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 1280,
        "y": 520,
        "wires": [
            [
                "a68c2a12.3dfc78",
                "ef46928d.95e0b"
            ]
        ]
    },
    {
        "id": "a68c2a12.3dfc78",
        "type": "switch",
        "z": "36a8cb83.a57434",
        "name": "",
        "property": "parts.index",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "(msg.parts.count-1)",
                "vt": "jsonata"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1470,
        "y": 520,
        "wires": [
            [
                "887d1b1e.9053"
            ]
        ]
    },
    {
        "id": "887d1b1e.9053",
        "type": "delay",
        "z": "36a8cb83.a57434",
        "name": "",
        "pauseType": "delay",
        "timeout": "500",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 1750,
        "y": 260,
        "wires": [
            [
                "d5fa8cac.d2f35"
            ]
        ]
    },
    {
        "id": "a3e136d8.68c86",
        "type": "OpcUa-Item",
        "z": "cd3c6c14.6a19b8",
        "item": "ns=4;s=|var|PAC320-CWN21-3A.Application.ARM_1_2.c_Vel",
        "datatype": "Float",
        "value": "",
        "name": "c_vel_1_2",
        "x": 1860,
        "y": 420,
        "wires": [
            [
                "92164c2e.bef808"
            ]
        ]
    },
    {
        "id": "53589b52.59558c",
        "type": "inject",
        "z": "cd3c6c14.6a19b8",
        "name": "init",
        "props": [],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "x": 140,
        "y": 60,
        "wires": [
            [
                "1d19f19a.77218e",
                "ad9d93b.9af6ff",
                "aba14372.4a0c08",
                "5252b032.0b85d",
                "a37af2b.9f3b59",
                "de5aed1f.ef0e38",
                "8164ec7f.1a1348",
                "4c54d9e5.a378f8",
                "9305743.6cab688"
            ]
        ]
    },
    {
        "id": "1d19f19a.77218e",
        "type": "change",
        "z": "cd3c6c14.6a19b8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "radius",
                "pt": "flow",
                "to": "50",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 400,
        "y": 60,
        "wires": [
            []
        ]
    },
    {
        "id": "ad9d93b.9af6ff",
        "type": "OpcUa-Item",
        "z": "cd3c6c14.6a19b8",
        "g": "f5ef5e0b.1bb768",
        "item": "ns=4;s=|var|PAC320-CWN21-3A.Application.ARM_1_2.c_Vel",
        "datatype": "Float",
        "value": "",
        "name": "c_vel_1_2",
        "x": 400,
        "y": 320,
        "wires": [
            [
                "a162ba73.6f45"
            ]
        ]
    },
    {
        "id": "aba14372.4a0c08",
        "type": "OpcUa-Item",
        "z": "cd3c6c14.6a19b8",
        "g": "d044628d.d1a6a8",
        "item": "ns=4;s=|var|PAC320-CWN21-3A.Application.ARM_1_2.State",
        "datatype": "Byte",
        "value": "",
        "name": "State_1_2",
        "x": 400,
        "y": 180,
        "wires": [
            [
                "a162ba73.6f45"
            ]
        ]
    },
    {
        "id": "a162ba73.6f45",
        "type": "OpcUa-Client",
        "z": "cd3c6c14.6a19b8",
        "endpoint": "ffe1c026.b79e4",
        "action": "subscribe",
        "deadbandtype": "a",
        "deadbandvalue": 1,
        "time": "100",
        "timeUnit": "ms",
        "certificate": "n",
        "localfile": "",
        "localkeyfile": "",
        "securitymode": "None",
        "securitypolicy": "None",
        "name": "susbcribe",
        "x": 640,
        "y": 340,
        "wires": [
            [
                "9ffa915e.f75f18",
                "165956a5.87d851"
            ]
        ]
    },
    {
        "id": "12c288f9.658adf",
        "type": "ui_text",
        "z": "cd3c6c14.6a19b8",
        "group": "63b898e3.cb88b",
        "order": 3,
        "width": 3,
        "height": 1,
        "name": "State 1-2",
        "label": "",
        "format": "{{msg.payload}}",
        "layout": "col-center",
        "x": 1600,
        "y": 160,
        "wires": []
    },
    {
        "id": "1fbcb51c.c3f67b",
        "type": "ui_button",
        "z": "cd3c6c14.6a19b8",
        "name": "",
        "group": "63b898e3.cb88b",
        "order": 4,
        "width": 2,
        "height": 1,
        "passthru": true,
        "label": "Stop",
        "tooltip": "Set velocity to 0",
        "color": "",
        "bgcolor": "red",
        "icon": "",
        "payload": "0",
        "payloadType": "num",
        "topic": "topic",
        "topicType": "msg",
        "x": 1650,
        "y": 460,
        "wires": [
            [
                "a3e136d8.68c86"
            ]
        ]
    },
    {
        "id": "42f4a4b5.e5858c",
        "type": "function",
        "z": "cd3c6c14.6a19b8",
        "name": "toRealUnit",
        "func": "// 0.01 is due to second gearbox not accounted for in plc units\n// 60 is seconds to a minute\n// 2*pi*r is the circumference of the drive\n\ncoef = 0.01 * 60 * (2 * Math.PI * flow.get('radius'));\n\nmsg.payload *= coef;\n\nmsg.payload = Math.round(msg.payload*100)/100\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1030,
        "y": 440,
        "wires": [
            [
                "179c184a.b175e"
            ]
        ]
    },
    {
        "id": "a15c501.01ade3",
        "type": "function",
        "z": "cd3c6c14.6a19b8",
        "name": "mapState",
        "func": "var states = {0:\"INIT\",\n              10:\"POWER\",\n              20:\"STEADY\",\n              30:\"ACCELERATE\",\n              35:\"ACCELERATING\",\n              40:\"HALT\",\n              45:\"HALTING\"}\n\nmsg.payload = states[msg.payload];\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1220,
        "y": 200,
        "wires": [
            [
                "94af6446.eca828"
            ]
        ]
    },
    {
        "id": "5252b032.0b85d",
        "type": "OpcUa-Item",
        "z": "cd3c6c14.6a19b8",
        "g": "d044628d.d1a6a8",
        "item": "ns=4;s=|var|PAC320-CWN21-3A.Application.ARM_3_4.State",
        "datatype": "Byte",
        "value": "",
        "name": "State_3_4",
        "x": 400,
        "y": 220,
        "wires": [
            [
                "a162ba73.6f45"
            ]
        ]
    },
    {
        "id": "8a59d842.ba7b3",
        "type": "ui_text",
        "z": "cd3c6c14.6a19b8",
        "group": "f277b7b3.2f1898",
        "order": 3,
        "width": 3,
        "height": 1,
        "name": "State 3-4",
        "label": "",
        "format": "{{msg.payload}}",
        "layout": "col-center",
        "x": 1600,
        "y": 240,
        "wires": []
    },
    {
        "id": "a37af2b.9f3b59",
        "type": "OpcUa-Item",
        "z": "cd3c6c14.6a19b8",
        "g": "f5ef5e0b.1bb768",
        "item": "ns=4;s=|var|PAC320-CWN21-3A.Application.ARM_3_4.c_Vel",
        "datatype": "Float",
        "value": "",
        "name": "c_vel_3_4",
        "x": 400,
        "y": 360,
        "wires": [
            [
                "a162ba73.6f45"
            ]
        ]
    },
    {
        "id": "9ffa915e.f75f18",
        "type": "switch",
        "z": "cd3c6c14.6a19b8",
        "name": "",
        "property": "datatype",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Byte",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Float",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Double",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 810,
        "y": 340,
        "wires": [
            [
                "cd418b83.50b178"
            ],
            [
                "42f4a4b5.e5858c"
            ],
            [
                "fd0d6a53.ad77f"
            ]
        ]
    },
    {
        "id": "94af6446.eca828",
        "type": "switch",
        "z": "cd3c6c14.6a19b8",
        "name": "",
        "property": "browseName",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "State_1_2",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "State_3_4",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1400,
        "y": 200,
        "wires": [
            [
                "12c288f9.658adf"
            ],
            [
                "8a59d842.ba7b3"
            ]
        ]
    },
    {
        "id": "179c184a.b175e",
        "type": "switch",
        "z": "cd3c6c14.6a19b8",
        "name": "",
        "property": "browseName",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "c_vel_1_2",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "c_vel_3_4",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1230,
        "y": 440,
        "wires": [
            [
                "77071c6d.6debc4"
            ],
            [
                "76c087d6.a0a8b8"
            ]
        ]
    },
    {
        "id": "76c087d6.a0a8b8",
        "type": "ui_text_input",
        "z": "cd3c6c14.6a19b8",
        "name": "",
        "label": "Set speed ",
        "tooltip": "mm/min",
        "group": "f277b7b3.2f1898",
        "order": 1,
        "width": 2,
        "height": 1,
        "passthru": false,
        "mode": "number",
        "delay": "0",
        "topic": "",
        "topicType": "str",
        "x": 1500,
        "y": 580,
        "wires": [
            [
                "4a6081fa.93ca68"
            ]
        ]
    },
    {
        "id": "4a6081fa.93ca68",
        "type": "function",
        "z": "cd3c6c14.6a19b8",
        "name": "fromRealUnit",
        "func": "// 0.01 is due to second gearbox not accounted for in plc units\n// 60 is seconds to a minute\n// 2*pi*r is the circumference of the drive\n\ncoef = 0.01 * 60 * (2 * Math.PI * flow.get('radius'));\n\nmsg.payload /= coef;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1670,
        "y": 580,
        "wires": [
            [
                "7fafb64d.94d4a8"
            ]
        ]
    },
    {
        "id": "7fafb64d.94d4a8",
        "type": "OpcUa-Item",
        "z": "cd3c6c14.6a19b8",
        "item": "ns=4;s=|var|PAC320-CWN21-3A.Application.ARM_3_4.c_Vel",
        "datatype": "Float",
        "value": "",
        "name": "c_vel_3_4",
        "x": 1860,
        "y": 580,
        "wires": [
            [
                "92164c2e.bef808"
            ]
        ]
    },
    {
        "id": "de5aed1f.ef0e38",
        "type": "OpcUa-Item",
        "z": "cd3c6c14.6a19b8",
        "g": "97ce7560.beb438",
        "item": "ns=4;s=|var|PAC320-CWN21-3A.Application.IoConfig_Globals.ARM_1.fActVelocity",
        "datatype": "Double",
        "value": "",
        "name": "ActVel_1",
        "x": 400,
        "y": 460,
        "wires": [
            [
                "a162ba73.6f45"
            ]
        ]
    },
    {
        "id": "8164ec7f.1a1348",
        "type": "OpcUa-Item",
        "z": "cd3c6c14.6a19b8",
        "d": true,
        "g": "97ce7560.beb438",
        "item": "ns=4;s=|var|PAC320-CWN21-3A.Application.IoConfig_Globals.ARM_2.fActVelocity",
        "datatype": "Double",
        "value": "",
        "name": "ActVel_2",
        "x": 400,
        "y": 500,
        "wires": [
            []
        ]
    },
    {
        "id": "4c54d9e5.a378f8",
        "type": "OpcUa-Item",
        "z": "cd3c6c14.6a19b8",
        "d": true,
        "g": "97ce7560.beb438",
        "item": "ns=4;s=|var|PAC320-CWN21-3A.Application.IoConfig_Globals.ARM_3.fActVelocity",
        "datatype": "Double",
        "value": "",
        "name": "ActVel_3",
        "x": 400,
        "y": 540,
        "wires": [
            []
        ]
    },
    {
        "id": "9305743.6cab688",
        "type": "OpcUa-Item",
        "z": "cd3c6c14.6a19b8",
        "g": "97ce7560.beb438",
        "item": "ns=4;s=|var|PAC320-CWN21-3A.Application.IoConfig_Globals.ARM_4.fActVelocity",
        "datatype": "Double",
        "value": "",
        "name": "ActVel_4",
        "x": 400,
        "y": 580,
        "wires": [
            [
                "a162ba73.6f45"
            ]
        ]
    },
    {
        "id": "fd0d6a53.ad77f",
        "type": "function",
        "z": "cd3c6c14.6a19b8",
        "name": "toRealUnit",
        "func": "// 0.01 is due to second gearbox not accounted for in plc units\n// 60 is seconds to a minute\n// 2*pi*r is the circumference of the drive\n\ncoef = 0.01 * 60 * (2 * Math.PI * flow.get('radius'));\n\nmsg.payload *= coef;\n\nmsg.payload = Math.round(msg.payload*100)/100\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1030,
        "y": 840,
        "wires": [
            [
                "ef7c3331.3fa3f8"
            ]
        ]
    },
    {
        "id": "983b9f8e.15c5a8",
        "type": "smooth",
        "z": "cd3c6c14.6a19b8",
        "name": "",
        "property": "payload",
        "action": "low",
        "count": "2",
        "round": "",
        "mult": "multi",
        "reduce": false,
        "x": 1380,
        "y": 840,
        "wires": [
            [
                "aea5d8d6.53428"
            ]
        ]
    },
    {
        "id": "321d9536.22fb1a",
        "type": "ui_text",
        "z": "cd3c6c14.6a19b8",
        "group": "63b898e3.cb88b",
        "order": 2,
        "width": 3,
        "height": 1,
        "name": "",
        "label": "Speed (mm/min)",
        "format": "{{msg.payload}}",
        "layout": "col-center",
        "x": 2040,
        "y": 780,
        "wires": []
    },
    {
        "id": "aea5d8d6.53428",
        "type": "function",
        "z": "cd3c6c14.6a19b8",
        "name": "",
        "func": "msg.payload = msg.payload.toFixed(1);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1540,
        "y": 840,
        "wires": [
            [
                "1eae1186.ab4dee"
            ]
        ]
    },
    {
        "id": "ef7c3331.3fa3f8",
        "type": "msg-resend",
        "z": "cd3c6c14.6a19b8",
        "interval": "100",
        "intervalUnit": "msecs",
        "maximum": "0",
        "bytopic": true,
        "clone": false,
        "firstDelayed": false,
        "addCounters": false,
        "waitForResend": false,
        "highRate": true,
        "outputCountField": "",
        "outputMaxField": "",
        "name": "",
        "x": 1210,
        "y": 840,
        "wires": [
            [
                "983b9f8e.15c5a8"
            ]
        ]
    },
    {
        "id": "1eae1186.ab4dee",
        "type": "rbe",
        "z": "cd3c6c14.6a19b8",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": true,
        "property": "payload",
        "x": 1690,
        "y": 840,
        "wires": [
            [
                "e3254c69.00977"
            ]
        ]
    },
    {
        "id": "e3254c69.00977",
        "type": "switch",
        "z": "cd3c6c14.6a19b8",
        "name": "",
        "property": "browseName",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "ActVel_1",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "ActVel_2",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "ActVel_3",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "ActVel_4",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 4,
        "x": 1830,
        "y": 840,
        "wires": [
            [
                "321d9536.22fb1a"
            ],
            [],
            [],
            [
                "1072766.f2c5a8a"
            ]
        ]
    },
    {
        "id": "1072766.f2c5a8a",
        "type": "ui_text",
        "z": "cd3c6c14.6a19b8",
        "group": "f277b7b3.2f1898",
        "order": 2,
        "width": 3,
        "height": 1,
        "name": "",
        "label": "Speed (mm/min)",
        "format": "{{msg.payload}}",
        "layout": "col-center",
        "x": 2040,
        "y": 900,
        "wires": []
    },
    {
        "id": "cd418b83.50b178",
        "type": "rbe",
        "z": "cd3c6c14.6a19b8",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": true,
        "property": "payload",
        "x": 1010,
        "y": 200,
        "wires": [
            [
                "a15c501.01ade3"
            ]
        ]
    },
    {
        "id": "c588b9cf.e0f38",
        "type": "inject",
        "z": "cd3c6c14.6a19b8",
        "name": "stop",
        "props": [],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 1510,
        "y": 480,
        "wires": [
            [
                "1fbcb51c.c3f67b",
                "1588df81.8b655"
            ]
        ]
    },
    {
        "id": "1588df81.8b655",
        "type": "ui_button",
        "z": "cd3c6c14.6a19b8",
        "name": "",
        "group": "f277b7b3.2f1898",
        "order": 4,
        "width": 2,
        "height": 1,
        "passthru": true,
        "label": "Stop",
        "tooltip": "Set velocity to 0 ",
        "color": "",
        "bgcolor": "red",
        "icon": "",
        "payload": "0",
        "payloadType": "num",
        "topic": "topic",
        "topicType": "msg",
        "x": 1650,
        "y": 500,
        "wires": [
            [
                "7fafb64d.94d4a8"
            ]
        ]
    },
    {
        "id": "8394cb1c.eedc",
        "type": "smooth",
        "z": "472cf316.a032c4",
        "name": "",
        "property": "payload",
        "action": "mean",
        "count": "5",
        "round": "",
        "mult": "multi",
        "reduce": true,
        "x": 920,
        "y": 600,
        "wires": [
            [
                "11623147.a352af"
            ]
        ]
    },
    {
        "id": "d86dbde7.595fb8",
        "type": "smooth",
        "z": "472cf316.a032c4",
        "d": true,
        "name": "",
        "property": "payload",
        "action": "mean",
        "count": "5",
        "round": "",
        "mult": "multi",
        "reduce": true,
        "x": 2160,
        "y": 520,
        "wires": [
            [
                "1d5da6b.b9983d9"
            ]
        ]
    },
    {
        "id": "165956a5.87d851",
        "type": "change",
        "z": "cd3c6c14.6a19b8",
        "g": "1d6adcc.14c14a3",
        "name": "",
        "rules": [
            {
                "t": "move",
                "p": "browseName",
                "pt": "msg",
                "to": "topic",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 890,
        "y": 80,
        "wires": [
            [
                "151dee63.6493f2"
            ]
        ]
    },
    {
        "id": "c120025.e616f8",
        "type": "influxdb out",
        "z": "b9f084d.1776c78",
        "influxdb": "31f2d4f0.0b8e2c",
        "name": "",
        "measurement": "",
        "precision": "",
        "retentionPolicy": "",
        "database": "database",
        "precisionV18FluxV20": "ms",
        "retentionPolicyV18Flux": "",
        "org": "fames",
        "bucket": "taperer",
        "x": 1150,
        "y": 300,
        "wires": []
    },
    {
        "id": "24f66f48.316db",
        "type": "link in",
        "z": "b9f084d.1776c78",
        "name": "influxdb",
        "links": [
            "151dee63.6493f2",
            "d8994046.43533",
            "1d7994b7.1679a3",
            "740edf17.7363c",
            "7a72c354.d7c104",
            "29c59852.e671c",
            "e794dff9.1edaa",
            "f94eeb03.a04548"
        ],
        "x": 435,
        "y": 300,
        "wires": [
            [
                "da4f6120.2fa338"
            ]
        ]
    },
    {
        "id": "151dee63.6493f2",
        "type": "link out",
        "z": "cd3c6c14.6a19b8",
        "g": "1d6adcc.14c14a3",
        "name": "",
        "links": [
            "24f66f48.316db"
        ],
        "x": 1055,
        "y": 80,
        "wires": []
    },
    {
        "id": "94e70763.3395b8",
        "type": "subflow:29b5b7f5.1f4978",
        "z": "472cf316.a032c4",
        "g": "de28e6a4.6494e",
        "name": "TC1",
        "env": [
            {
                "name": "label",
                "value": "TC1",
                "type": "str"
            }
        ],
        "x": 510,
        "y": 740,
        "wires": [
            [
                "8394cb1c.eedc",
                "1d7994b7.1679a3"
            ]
        ]
    },
    {
        "id": "541170c1.04dee",
        "type": "switch",
        "z": "29b5b7f5.1f4978",
        "name": "",
        "property": "event",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "TemperatureChange",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Attach",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Detach",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Error",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 4,
        "x": 710,
        "y": 320,
        "wires": [
            [
                "63e29ec8.8c88a"
            ],
            [
                "956a5cf0.4ba35"
            ],
            [
                "92e1bb66.b2952"
            ],
            [
                "9bcf0d8c.b0c97"
            ]
        ],
        "outputLabels": [
            "TemperatureChange",
            "Attached",
            "",
            ""
        ]
    },
    {
        "id": "d11fbcd4.491128",
        "type": "change",
        "z": "29b5b7f5.1f4978",
        "name": "",
        "rules": [
            {
                "t": "move",
                "p": "topic",
                "pt": "msg",
                "to": "event",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "label",
                "tot": "env"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 480,
        "y": 320,
        "wires": [
            [
                "541170c1.04dee"
            ]
        ]
    },
    {
        "id": "63e29ec8.8c88a",
        "type": "change",
        "z": "29b5b7f5.1f4978",
        "name": "TemperatureChange",
        "rules": [
            {
                "t": "move",
                "p": "payload.temperature",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1020,
        "y": 240,
        "wires": [
            [
                "2a9f26e6.d4f4ca"
            ]
        ]
    },
    {
        "id": "2a9f26e6.d4f4ca",
        "type": "function",
        "z": "29b5b7f5.1f4978",
        "name": "Update mean and std",
        "func": "var temps = global.get('temperatures');\n\ntemps[msg.topic] = msg.payload;\n\nlet sum = 0; \nlet sum2 = 0; \n\nfor (let key in temps) {\n    sum += temps[key];\n    sum2 += Math.pow(temps[key], 2)\n}\n\nlet mean = sum / Object.keys(temps).length;\nlet mean2 = sum2 / Object.keys(temps).length;\n\nlet std = Math.sqrt(mean2 - (mean*mean));\n\nglobal.set('mean_temp', mean)\nglobal.set('std_temp', std)\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1300,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "9bcf0d8c.b0c97",
        "type": "debug",
        "z": "29b5b7f5.1f4978",
        "name": "Error",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 970,
        "y": 400,
        "wires": []
    },
    {
        "id": "3923836d.997354",
        "type": "subflow:29b5b7f5.1f4978",
        "z": "472cf316.a032c4",
        "g": "c622cdd4.6d49c8",
        "name": "TC2",
        "env": [
            {
                "name": "label",
                "value": "TC2",
                "type": "str"
            }
        ],
        "x": 510,
        "y": 840,
        "wires": [
            [
                "8394cb1c.eedc",
                "1d7994b7.1679a3"
            ]
        ]
    },
    {
        "id": "766e3bd5.7c1b2c",
        "type": "subflow:29b5b7f5.1f4978",
        "z": "472cf316.a032c4",
        "d": true,
        "g": "ea8e2d80.cca938",
        "name": "TC3",
        "env": [
            {
                "name": "label",
                "value": "TC3",
                "type": "str"
            }
        ],
        "x": 510,
        "y": 940,
        "wires": [
            [
                "8394cb1c.eedc",
                "1d7994b7.1679a3"
            ]
        ]
    },
    {
        "id": "cc3ac605.b0889",
        "type": "subflow:29b5b7f5.1f4978",
        "z": "472cf316.a032c4",
        "g": "8d7f6ed9.f5bfc",
        "name": "TC4",
        "env": [
            {
                "name": "label",
                "value": "TC4",
                "type": "str"
            }
        ],
        "x": 510,
        "y": 1040,
        "wires": [
            [
                "8394cb1c.eedc",
                "1d7994b7.1679a3"
            ]
        ]
    },
    {
        "id": "4df265ae.506b7c",
        "type": "subflow:29b5b7f5.1f4978",
        "z": "472cf316.a032c4",
        "g": "2bdf9297.27d11e",
        "name": "TC5",
        "env": [
            {
                "name": "label",
                "value": "TC5",
                "type": "str"
            }
        ],
        "x": 510,
        "y": 1140,
        "wires": [
            [
                "8394cb1c.eedc",
                "1d7994b7.1679a3"
            ]
        ]
    },
    {
        "id": "1d3a6551.26a533",
        "type": "switch",
        "z": "daecb3c5.c2256",
        "name": "",
        "property": "event",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "setDutyCycle",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Attach",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Detach",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Error",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 4,
        "x": 470,
        "y": 580,
        "wires": [
            [
                "34049f99.8c2d98"
            ],
            [
                "76358218.d4f3f4"
            ],
            [
                "eef1f67f.93d428"
            ],
            [
                "2e92db4d.e24b0c"
            ]
        ],
        "outputLabels": [
            "TemperatureChange",
            "Attached",
            "",
            ""
        ]
    },
    {
        "id": "5361b514.9b4bcc",
        "type": "change",
        "z": "daecb3c5.c2256",
        "name": "",
        "rules": [
            {
                "t": "move",
                "p": "topic",
                "pt": "msg",
                "to": "event",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "label",
                "tot": "env"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 280,
        "y": 580,
        "wires": [
            [
                "1d3a6551.26a533"
            ]
        ]
    },
    {
        "id": "2e92db4d.e24b0c",
        "type": "debug",
        "z": "daecb3c5.c2256",
        "name": "Error",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 870,
        "y": 640,
        "wires": []
    },
    {
        "id": "ff868aaf.bf8008",
        "type": "subflow:daecb3c5.c2256",
        "z": "472cf316.a032c4",
        "g": "412e4124.cd2d18",
        "name": "HT1",
        "env": [
            {
                "name": "label",
                "value": "HT1",
                "type": "str"
            }
        ],
        "x": 1870,
        "y": 740,
        "wires": [
            [
                "d86dbde7.595fb8",
                "d8994046.43533"
            ]
        ]
    },
    {
        "id": "937161e8.3942f8",
        "type": "subflow:daecb3c5.c2256",
        "z": "472cf316.a032c4",
        "g": "864361a2.693d7",
        "name": "HT2",
        "env": [
            {
                "name": "label",
                "value": "HT2",
                "type": "str"
            }
        ],
        "x": 1870,
        "y": 840,
        "wires": [
            [
                "d86dbde7.595fb8",
                "d8994046.43533"
            ]
        ]
    },
    {
        "id": "42957ccf.8c6954",
        "type": "subflow:daecb3c5.c2256",
        "z": "472cf316.a032c4",
        "d": true,
        "g": "a66af1c7.2c52e8",
        "name": "HT3",
        "env": [
            {
                "name": "label",
                "value": "HT3",
                "type": "str"
            }
        ],
        "x": 1870,
        "y": 940,
        "wires": [
            [
                "d86dbde7.595fb8",
                "d8994046.43533"
            ]
        ]
    },
    {
        "id": "a4400c08.d2ce98",
        "type": "subflow:daecb3c5.c2256",
        "z": "472cf316.a032c4",
        "g": "db10a9d6.3cf4e8",
        "name": "HT4",
        "env": [
            {
                "name": "label",
                "value": "HT4",
                "type": "str"
            }
        ],
        "x": 1870,
        "y": 1040,
        "wires": [
            [
                "d86dbde7.595fb8",
                "d8994046.43533"
            ]
        ]
    },
    {
        "id": "aecc3e07.4b9468",
        "type": "function",
        "z": "28075929.52991e",
        "name": "Attach or Detach",
        "func": "var attached = global.get('attached')\n\nif (msg.event == 'Attach') {\n    attached[msg.topic] = true;\n    return {payload:{fill:\"green\",shape:\"dot\",text:'Attached'}}\n} else {\n    attached[msg.topic] = false;\n    return {payload:{fill:\"red\",shape:\"ring\",text:'Detached'}}\n\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1070,
        "y": 420,
        "wires": [
            []
        ]
    },
    {
        "id": "3fbf5fac.51fba8",
        "type": "subflow:28075929.52991e",
        "z": "29b5b7f5.1f4978",
        "name": "",
        "env": [],
        "x": 1080,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "96915fd5.b7ee68",
        "type": "subflow:28075929.52991e",
        "z": "daecb3c5.c2256",
        "name": "",
        "x": 1120,
        "y": 580,
        "wires": [
            []
        ]
    },
    {
        "id": "34049f99.8c2d98",
        "type": "change",
        "z": "daecb3c5.c2256",
        "name": "setDutyCycle",
        "rules": [
            {
                "t": "move",
                "p": "payload.dutyCycle",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 890,
        "y": 520,
        "wires": [
            [
                "6e01941b.18d40c"
            ]
        ]
    },
    {
        "id": "6e01941b.18d40c",
        "type": "switch",
        "z": "daecb3c5.c2256",
        "name": "isAttached",
        "property": "attached",
        "propertyType": "flow",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1120,
        "y": 520,
        "wires": [
            [
                "69c4c7c8.700ce8"
            ]
        ]
    },
    {
        "id": "eef1f67f.93d428",
        "type": "change",
        "z": "daecb3c5.c2256",
        "name": "detach",
        "rules": [
            {
                "t": "set",
                "p": "attached",
                "pt": "flow",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 870,
        "y": 600,
        "wires": [
            [
                "96915fd5.b7ee68"
            ]
        ]
    },
    {
        "id": "76358218.d4f3f4",
        "type": "change",
        "z": "daecb3c5.c2256",
        "name": "attach",
        "rules": [
            {
                "t": "set",
                "p": "attached",
                "pt": "flow",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 870,
        "y": 560,
        "wires": [
            [
                "96915fd5.b7ee68"
            ]
        ]
    },
    {
        "id": "86f05771.b39ca8",
        "type": "inject",
        "z": "daecb3c5.c2256",
        "name": "",
        "props": [
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "Detach",
        "x": 210,
        "y": 460,
        "wires": [
            [
                "5361b514.9b4bcc"
            ]
        ]
    },
    {
        "id": "92e1bb66.b2952",
        "type": "change",
        "z": "29b5b7f5.1f4978",
        "name": "detach",
        "rules": [
            {
                "t": "set",
                "p": "attached",
                "pt": "flow",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 910,
        "y": 340,
        "wires": [
            [
                "3fbf5fac.51fba8"
            ]
        ]
    },
    {
        "id": "956a5cf0.4ba35",
        "type": "change",
        "z": "29b5b7f5.1f4978",
        "name": "attach",
        "rules": [
            {
                "t": "set",
                "p": "attached",
                "pt": "flow",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 910,
        "y": 300,
        "wires": [
            [
                "3fbf5fac.51fba8"
            ]
        ]
    },
    {
        "id": "74e4fe48.f43248",
        "type": "inject",
        "z": "29b5b7f5.1f4978",
        "name": "",
        "props": [
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "Detach",
        "x": 300,
        "y": 220,
        "wires": [
            [
                "d11fbcd4.491128"
            ]
        ]
    },
    {
        "id": "69c4c7c8.700ce8",
        "type": "function",
        "z": "daecb3c5.c2256",
        "name": "Update",
        "func": "var powers = global.get('powers');\n\npowers[msg.topic] = msg.payload;\n\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1360,
        "y": 520,
        "wires": [
            []
        ]
    },
    {
        "id": "ee204345.e3512",
        "type": "switch",
        "z": "7b62c48f.4019d4",
        "name": "",
        "property": "event",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "VoltageratioChange",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Attach",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Detach",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Error",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "setOffset",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "resetOffset",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 6,
        "x": 910,
        "y": 500,
        "wires": [
            [
                "9e7a51f5.360dc"
            ],
            [
                "22759c66.b215a4"
            ],
            [
                "6463d292.d07d2c"
            ],
            [
                "c0470227.ddb908"
            ],
            [
                "882d1b90.39961"
            ],
            [
                "6efaf82d.b682f8"
            ]
        ],
        "outputLabels": [
            "TemperatureChange",
            "Attached",
            "",
            "",
            "",
            ""
        ]
    },
    {
        "id": "2b1ae01b.75293",
        "type": "change",
        "z": "7b62c48f.4019d4",
        "name": "",
        "rules": [
            {
                "t": "move",
                "p": "topic",
                "pt": "msg",
                "to": "event",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "label",
                "tot": "env"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 680,
        "y": 500,
        "wires": [
            [
                "ee204345.e3512"
            ]
        ]
    },
    {
        "id": "9e7a51f5.360dc",
        "type": "change",
        "z": "7b62c48f.4019d4",
        "name": "VoltageratioChange",
        "rules": [
            {
                "t": "move",
                "p": "payload.voltageRatio",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1150,
        "y": 420,
        "wires": [
            [
                "d8783607.1a818"
            ]
        ]
    },
    {
        "id": "664ff645.d94c58",
        "type": "function",
        "z": "7b62c48f.4019d4",
        "name": "Update mean and std",
        "func": "var strains = global.get('strains');\n\nflow.set('strain', msg.payload);\n\nmsg.payload -= flow.get('offset');\n\nstrains[msg.topic] = msg.payload;\n\nlet sum = 0; \nlet sum2 = 0; \n\nfor (var key in strains) {\n    sum += strains[key];\n    sum2 += Math.pow(strains[key], 2)\n}\n\nsum /= Object.keys(strains).length;\nsum2 /= Object.keys(strains).length;\n\nlet std = Math.sqrt(sum2 - (sum*sum));\n\nglobal.set('mean_strain', sum)\nglobal.set('std_strain', std)\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1600,
        "y": 420,
        "wires": [
            []
        ]
    },
    {
        "id": "c0470227.ddb908",
        "type": "debug",
        "z": "7b62c48f.4019d4",
        "name": "Error",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1110,
        "y": 580,
        "wires": []
    },
    {
        "id": "37345462.e5a6cc",
        "type": "subflow:28075929.52991e",
        "z": "7b62c48f.4019d4",
        "name": "",
        "env": [],
        "x": 1280,
        "y": 500,
        "wires": [
            []
        ]
    },
    {
        "id": "6463d292.d07d2c",
        "type": "change",
        "z": "7b62c48f.4019d4",
        "name": "detach",
        "rules": [
            {
                "t": "set",
                "p": "attached",
                "pt": "flow",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1110,
        "y": 520,
        "wires": [
            [
                "37345462.e5a6cc"
            ]
        ]
    },
    {
        "id": "22759c66.b215a4",
        "type": "change",
        "z": "7b62c48f.4019d4",
        "name": "attach",
        "rules": [
            {
                "t": "set",
                "p": "attached",
                "pt": "flow",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1110,
        "y": 480,
        "wires": [
            [
                "37345462.e5a6cc"
            ]
        ]
    },
    {
        "id": "703bd3ca.a819cc",
        "type": "inject",
        "z": "7b62c48f.4019d4",
        "name": "",
        "props": [
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "Detach",
        "x": 500,
        "y": 340,
        "wires": [
            [
                "2b1ae01b.75293"
            ]
        ]
    },
    {
        "id": "1f680714.ce4601",
        "type": "subflow:7b62c48f.4019d4",
        "z": "39f681b1.fd6a4e",
        "g": "6a8645c6.774334",
        "name": "SG1",
        "env": [
            {
                "name": "label",
                "value": "SG1",
                "type": "str"
            }
        ],
        "x": 590,
        "y": 260,
        "wires": [
            [
                "24a71a38.bde2ee",
                "740edf17.7363c"
            ]
        ]
    },
    {
        "id": "62630b25.d9e8c4",
        "type": "subflow:7b62c48f.4019d4",
        "z": "39f681b1.fd6a4e",
        "g": "2eda63f4.7d845c",
        "name": "SG2",
        "env": [
            {
                "name": "label",
                "value": "SG2",
                "type": "str"
            }
        ],
        "x": 590,
        "y": 360,
        "wires": [
            [
                "24a71a38.bde2ee",
                "740edf17.7363c"
            ]
        ]
    },
    {
        "id": "2004fe14.587f8a",
        "type": "subflow:7b62c48f.4019d4",
        "z": "39f681b1.fd6a4e",
        "g": "46abe05b.171a2",
        "name": "SG3",
        "env": [
            {
                "name": "label",
                "value": "SG3",
                "type": "str"
            }
        ],
        "x": 590,
        "y": 460,
        "wires": [
            [
                "24a71a38.bde2ee",
                "740edf17.7363c"
            ]
        ]
    },
    {
        "id": "b70c9ca5.a29e2",
        "type": "subflow:7b62c48f.4019d4",
        "z": "39f681b1.fd6a4e",
        "g": "b30a1226.a9bee8",
        "name": "SG4",
        "env": [
            {
                "name": "label",
                "value": "SG4",
                "type": "str"
            }
        ],
        "x": 590,
        "y": 560,
        "wires": [
            [
                "24a71a38.bde2ee",
                "740edf17.7363c"
            ]
        ]
    },
    {
        "id": "3711a140.49013e",
        "type": "link in",
        "z": "39f681b1.fd6a4e",
        "name": "Sample rate",
        "links": [
            "14780578.fac7d3"
        ],
        "x": 175,
        "y": 380,
        "wires": [
            [
                "49c47775.50ca4",
                "cec384a2.b8b4e",
                "2e7c1c51.2896b4",
                "8505330a.300fb8"
            ]
        ]
    },
    {
        "id": "882d1b90.39961",
        "type": "change",
        "z": "7b62c48f.4019d4",
        "name": "setOffset",
        "rules": [
            {
                "t": "set",
                "p": "offset",
                "pt": "flow",
                "to": "strain",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "offset",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1120,
        "y": 640,
        "wires": [
            []
        ]
    },
    {
        "id": "d8783607.1a818",
        "type": "smooth",
        "z": "7b62c48f.4019d4",
        "name": "",
        "property": "payload",
        "action": "mean",
        "count": "4",
        "round": "",
        "mult": "single",
        "reduce": false,
        "x": 1360,
        "y": 420,
        "wires": [
            [
                "664ff645.d94c58"
            ]
        ]
    },
    {
        "id": "6efaf82d.b682f8",
        "type": "change",
        "z": "7b62c48f.4019d4",
        "name": "resetOffset",
        "rules": [
            {
                "t": "set",
                "p": "offset",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "offset",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1130,
        "y": 680,
        "wires": [
            []
        ]
    },
    {
        "id": "22d8f5f.0fa378a",
        "type": "inject",
        "z": "39f681b1.fd6a4e",
        "name": "",
        "props": [
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "resetOffset",
        "payloadType": "str",
        "x": 430,
        "y": 880,
        "wires": [
            [
                "b70c9ca5.a29e2",
                "2004fe14.587f8a",
                "62630b25.d9e8c4",
                "1f680714.ce4601"
            ]
        ]
    },
    {
        "id": "7bc61783.3bef08",
        "type": "inject",
        "z": "39f681b1.fd6a4e",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "mean",
        "payload": "mean_strain",
        "payloadType": "global",
        "x": 980,
        "y": 160,
        "wires": [
            [
                "65560268.c466c4"
            ]
        ]
    },
    {
        "id": "1a040a6f.763306",
        "type": "inject",
        "z": "39f681b1.fd6a4e",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 260,
        "y": 740,
        "wires": [
            [
                "2513049d.8fac1c"
            ]
        ]
    },
    {
        "id": "b295a8fd.258f48",
        "type": "inject",
        "z": "7b62c48f.4019d4",
        "name": "",
        "props": [
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "resetOffset",
        "x": 490,
        "y": 380,
        "wires": [
            [
                "2b1ae01b.75293"
            ]
        ]
    },
    {
        "id": "24a71a38.bde2ee",
        "type": "smooth",
        "z": "39f681b1.fd6a4e",
        "name": "",
        "property": "payload",
        "action": "mean",
        "count": "5",
        "round": "",
        "mult": "multi",
        "reduce": true,
        "x": 1010,
        "y": 320,
        "wires": [
            [
                "65560268.c466c4"
            ]
        ]
    },
    {
        "id": "bd317da2.4aa7e",
        "type": "inject",
        "z": "b9f084d.1776c78",
        "name": "init",
        "props": [],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "x": 530,
        "y": 140,
        "wires": [
            [
                "aac84f6e.dd47e8"
            ]
        ]
    },
    {
        "id": "aac84f6e.dd47e8",
        "type": "change",
        "z": "b9f084d.1776c78",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "attached",
                "pt": "global",
                "to": "{}",
                "tot": "json"
            },
            {
                "t": "set",
                "p": "temperatures",
                "pt": "global",
                "to": "{}",
                "tot": "json"
            },
            {
                "t": "set",
                "p": "powers",
                "pt": "global",
                "to": "{}",
                "tot": "json"
            },
            {
                "t": "set",
                "p": "strains",
                "pt": "global",
                "to": "{}",
                "tot": "json"
            },
            {
                "t": "set",
                "p": "positions",
                "pt": "global",
                "to": "{}",
                "tot": "json"
            },
            {
                "t": "set",
                "p": "pressures",
                "pt": "global",
                "to": "{}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 700,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "96cd42bb.c5194",
        "type": "subflow:29b5b7f5.1f4978",
        "z": "472cf316.a032c4",
        "g": "d32a617b.531d98",
        "name": "TC6",
        "env": [
            {
                "name": "label",
                "value": "TC6",
                "type": "str"
            }
        ],
        "x": 510,
        "y": 1240,
        "wires": [
            [
                "8394cb1c.eedc",
                "1d7994b7.1679a3"
            ]
        ]
    },
    {
        "id": "f2eb6b48.3381b",
        "type": "subflow:29b5b7f5.1f4978",
        "z": "472cf316.a032c4",
        "g": "e29bdb60.c65598",
        "name": "TC7",
        "env": [
            {
                "name": "label",
                "value": "TC7",
                "type": "str"
            }
        ],
        "x": 510,
        "y": 1340,
        "wires": [
            [
                "8394cb1c.eedc",
                "1d7994b7.1679a3"
            ]
        ]
    },
    {
        "id": "1f679a1d.da07ce",
        "type": "subflow:29b5b7f5.1f4978",
        "z": "472cf316.a032c4",
        "g": "4a6d0eb9.05129",
        "name": "TC8",
        "env": [
            {
                "name": "label",
                "value": "TC8",
                "type": "str"
            }
        ],
        "x": 510,
        "y": 1440,
        "wires": [
            [
                "8394cb1c.eedc",
                "1d7994b7.1679a3"
            ]
        ]
    },
    {
        "id": "ff2fd825.551f28",
        "type": "switch",
        "z": "3d0cd0fc.71538",
        "name": "",
        "property": "event",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "PositionChange",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Attach",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Detach",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Error",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "setZero",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 5,
        "x": 770,
        "y": 420,
        "wires": [
            [
                "3277caba.08d24e"
            ],
            [
                "2b960161.f38ed6"
            ],
            [
                "76fd66f9.036d08"
            ],
            [
                "cedc4730.9ba47"
            ],
            [
                "57a70109.92ebe8"
            ]
        ],
        "outputLabels": [
            "TemperatureChange",
            "Attached",
            "",
            "",
            ""
        ]
    },
    {
        "id": "3449a9c8.d93c4e",
        "type": "change",
        "z": "3d0cd0fc.71538",
        "name": "",
        "rules": [
            {
                "t": "move",
                "p": "topic",
                "pt": "msg",
                "to": "event",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "label",
                "tot": "env"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 540,
        "y": 420,
        "wires": [
            [
                "ff2fd825.551f28"
            ]
        ]
    },
    {
        "id": "cedc4730.9ba47",
        "type": "debug",
        "z": "3d0cd0fc.71538",
        "name": "Error",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 970,
        "y": 500,
        "wires": []
    },
    {
        "id": "1dd06828.afdc3",
        "type": "subflow:28075929.52991e",
        "z": "3d0cd0fc.71538",
        "name": "",
        "env": [],
        "x": 1140,
        "y": 420,
        "wires": [
            []
        ]
    },
    {
        "id": "76fd66f9.036d08",
        "type": "change",
        "z": "3d0cd0fc.71538",
        "name": "detach",
        "rules": [
            {
                "t": "set",
                "p": "attached",
                "pt": "flow",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 970,
        "y": 440,
        "wires": [
            [
                "1dd06828.afdc3"
            ]
        ]
    },
    {
        "id": "2b960161.f38ed6",
        "type": "change",
        "z": "3d0cd0fc.71538",
        "name": "attach",
        "rules": [
            {
                "t": "set",
                "p": "attached",
                "pt": "flow",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 970,
        "y": 400,
        "wires": [
            [
                "1dd06828.afdc3"
            ]
        ]
    },
    {
        "id": "306c0be1.eff02c",
        "type": "inject",
        "z": "3d0cd0fc.71538",
        "name": "",
        "props": [
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "Detach",
        "x": 340,
        "y": 260,
        "wires": [
            [
                "3449a9c8.d93c4e"
            ]
        ]
    },
    {
        "id": "57a70109.92ebe8",
        "type": "change",
        "z": "3d0cd0fc.71538",
        "name": "setZero",
        "rules": [
            {
                "t": "set",
                "p": "position",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 980,
        "y": 560,
        "wires": [
            []
        ]
    },
    {
        "id": "36dffb9d.048a8c",
        "type": "inject",
        "z": "3d0cd0fc.71538",
        "name": "",
        "props": [
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "setZero",
        "x": 340,
        "y": 300,
        "wires": [
            [
                "3449a9c8.d93c4e"
            ]
        ]
    },
    {
        "id": "3277caba.08d24e",
        "type": "function",
        "z": "3d0cd0fc.71538",
        "name": "Track position",
        "func": "var positions = global.get('positions');\nvar position = flow.get('position');\n\n// 2 mm pole length\n// 4096 interpolated steps\n// RLM2HDA12B\n\nvar positionChange = msg.payload.positionChange*2/4096; //in mm\n\nposition += positionChange;\n\n// Update\npositions[msg.topic] = position; // global\nflow.set('position', position);  // local\n\nvar velocity = positionChange/msg.payload.timeChange;\n\nvar pos = { topic: msg.topic,  payload: position }\nvar vel = { topic: msg.topic,  payload: velocity }\n\nreturn [pos, vel]\n",
        "outputs": 2,
        "noerr": 0,
        "initialize": "// Code added here will be run once\n// whenever the node is deployed.\nflow.set('positions', {});",
        "finalize": "",
        "libs": [],
        "x": 1020,
        "y": 300,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "ce24bfc1.e0fbd",
        "type": "subflow:3d0cd0fc.71538",
        "z": "d0319a94.933848",
        "g": "2f6fa9c1.a66a06",
        "name": "EN2",
        "env": [
            {
                "name": "label",
                "value": "EN2",
                "type": "str"
            }
        ],
        "x": 970,
        "y": 1240,
        "wires": [
            [
                "7a72c354.d7c104"
            ],
            []
        ]
    },
    {
        "id": "e08b09de.9f605",
        "type": "subflow:3d0cd0fc.71538",
        "z": "d0319a94.933848",
        "g": "f0fc5028.32d6a8",
        "name": "EN1",
        "env": [
            {
                "name": "label",
                "value": "EN1",
                "type": "str"
            }
        ],
        "x": 970,
        "y": 1120,
        "wires": [
            [
                "7a72c354.d7c104"
            ],
            []
        ]
    },
    {
        "id": "1369bd23.8e4ff3",
        "type": "link in",
        "z": "d0319a94.933848",
        "g": "446380d7.ea15e8",
        "name": "",
        "links": [
            "14780578.fac7d3"
        ],
        "x": 635,
        "y": 1180,
        "wires": [
            [
                "892f814c.4627c",
                "e99b152e.4aa8"
            ]
        ]
    },
    {
        "id": "592bc30.c034c3c",
        "type": "subflow:3d0cd0fc.71538",
        "z": "36a8cb83.a57434",
        "g": "83dfa8bc.276bd8",
        "name": "EN3",
        "env": [
            {
                "name": "label",
                "value": "EN3",
                "type": "str"
            }
        ],
        "x": 670,
        "y": 1240,
        "wires": [
            [
                "29c59852.e671c"
            ],
            []
        ]
    },
    {
        "id": "a4e89e91.777918",
        "type": "link in",
        "z": "36a8cb83.a57434",
        "g": "3f230530.f52e92",
        "name": "",
        "links": [
            "14780578.fac7d3"
        ],
        "x": 355,
        "y": 1300,
        "wires": [
            [
                "cf1edc02.aaf2f",
                "e72c29fd.bf0e3"
            ]
        ]
    },
    {
        "id": "e72c29fd.bf0e3",
        "type": "phidget22-encoder",
        "z": "36a8cb83.a57434",
        "g": "bec3217e.4170d8",
        "channel": 0,
        "deviceSerialNumber": "561741",
        "hubPort": "3",
        "debug": false,
        "IOMode": "1",
        "dataInterval": "200",
        "positionChangeTrigger": "0",
        "enabled": false,
        "x": 510,
        "y": 1360,
        "wires": [
            [
                "4768eeae.1ff0b8"
            ]
        ]
    },
    {
        "id": "4768eeae.1ff0b8",
        "type": "subflow:3d0cd0fc.71538",
        "z": "36a8cb83.a57434",
        "g": "bec3217e.4170d8",
        "name": "EN4",
        "env": [
            {
                "name": "label",
                "value": "EN4",
                "type": "str"
            }
        ],
        "x": 670,
        "y": 1360,
        "wires": [
            [
                "29c59852.e671c"
            ],
            []
        ]
    },
    {
        "id": "43d0dfc3.1424f8",
        "type": "smooth",
        "z": "36a8cb83.a57434",
        "name": "",
        "property": "payload",
        "action": "mean",
        "count": "5",
        "round": "",
        "mult": "multi",
        "reduce": true,
        "x": 1600,
        "y": 1360,
        "wires": [
            [
                "3094f702.60c98"
            ]
        ]
    },
    {
        "id": "4a69c05d.6bb228",
        "type": "smooth",
        "z": "d0319a94.933848",
        "name": "",
        "property": "payload",
        "action": "mean",
        "count": "5",
        "round": "",
        "mult": "multi",
        "reduce": true,
        "x": 1750,
        "y": 1080,
        "wires": [
            [
                "80b7173c.a29828"
            ]
        ]
    },
    {
        "id": "aee24aa2.5a3ef",
        "type": "change",
        "z": "d0319a94.933848",
        "d": true,
        "g": "f101bbae.4501b",
        "name": "setDutyCycle",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "setDutyCycle",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{ \"dutyCycle\" : (msg.payload) }",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2870,
        "y": 200,
        "wires": [
            [
                "c64d78f8.5a62b8",
                "435f3c2.f5c4f44"
            ]
        ]
    },
    {
        "id": "5d46759e.66c9bc",
        "type": "change",
        "z": "d0319a94.933848",
        "d": true,
        "g": "820e06a1.dbb25",
        "name": "setDutyCycle",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "setDutyCycle",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{ \"dutyCycle\" : (msg.payload) }",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2870,
        "y": 320,
        "wires": [
            [
                "b256bd2c.0de278",
                "e1d08ac9.c9fca8"
            ]
        ]
    },
    {
        "id": "3692b83d.df0298",
        "type": "change",
        "z": "d0319a94.933848",
        "g": "d0266af7.3d318",
        "name": "setVoltage",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "setVoltage",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"voltage\":(payload)}",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2330,
        "y": 480,
        "wires": [
            [
                "59c76b4e.7e0824",
                "44fb82d8.5ec324"
            ]
        ]
    },
    {
        "id": "bfddd84.d61baa8",
        "type": "change",
        "z": "d0319a94.933848",
        "g": "cdea3450.e3356",
        "name": "setVoltage",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "setVoltage",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"voltage\":(payload)}",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2330,
        "y": 580,
        "wires": [
            [
                "ae3095c9.296df",
                "dc979723.26832"
            ]
        ]
    },
    {
        "id": "435f3c2.f5c4f44",
        "type": "subflow:daecb3c5.c2256",
        "z": "d0319a94.933848",
        "d": true,
        "g": "f101bbae.4501b",
        "name": "CV1",
        "env": [
            {
                "name": "label",
                "value": "CV1",
                "type": "str"
            }
        ],
        "x": 3250,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "e1d08ac9.c9fca8",
        "type": "subflow:daecb3c5.c2256",
        "z": "d0319a94.933848",
        "d": true,
        "g": "820e06a1.dbb25",
        "name": "CV2",
        "env": [
            {
                "name": "label",
                "value": "CV2",
                "type": "str"
            }
        ],
        "x": 3250,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "529cb364.285cb4",
        "type": "switch",
        "z": "e9a50f1a.8125e",
        "name": "",
        "property": "event",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "setVoltage",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Attach",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Detach",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Error",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 4,
        "x": 610,
        "y": 520,
        "wires": [
            [
                "275f43b3.d2c274"
            ],
            [
                "6c6c0dc3.4543c4"
            ],
            [
                "c230abc0.d44ab8"
            ],
            [
                "78ac8ce.e1e2d74"
            ]
        ],
        "outputLabels": [
            "TemperatureChange",
            "Attached",
            "",
            ""
        ]
    },
    {
        "id": "99b231b.6e6555",
        "type": "change",
        "z": "e9a50f1a.8125e",
        "name": "",
        "rules": [
            {
                "t": "move",
                "p": "topic",
                "pt": "msg",
                "to": "event",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "label",
                "tot": "env"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 420,
        "y": 520,
        "wires": [
            [
                "529cb364.285cb4"
            ]
        ]
    },
    {
        "id": "78ac8ce.e1e2d74",
        "type": "debug",
        "z": "e9a50f1a.8125e",
        "name": "Error",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1010,
        "y": 580,
        "wires": []
    },
    {
        "id": "84609913.5827c",
        "type": "subflow:28075929.52991e",
        "z": "e9a50f1a.8125e",
        "name": "",
        "x": 1260,
        "y": 520,
        "wires": [
            []
        ]
    },
    {
        "id": "275f43b3.d2c274",
        "type": "change",
        "z": "e9a50f1a.8125e",
        "name": "setVoltage",
        "rules": [
            {
                "t": "move",
                "p": "payload.voltage",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1030,
        "y": 460,
        "wires": [
            [
                "c64d464.68d33b8"
            ]
        ]
    },
    {
        "id": "c64d464.68d33b8",
        "type": "switch",
        "z": "e9a50f1a.8125e",
        "name": "isAttached",
        "property": "attached",
        "propertyType": "flow",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1260,
        "y": 460,
        "wires": [
            [
                "fd6fea52.e655b8"
            ]
        ]
    },
    {
        "id": "c230abc0.d44ab8",
        "type": "change",
        "z": "e9a50f1a.8125e",
        "name": "detach",
        "rules": [
            {
                "t": "set",
                "p": "attached",
                "pt": "flow",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1010,
        "y": 540,
        "wires": [
            [
                "84609913.5827c"
            ]
        ]
    },
    {
        "id": "6c6c0dc3.4543c4",
        "type": "change",
        "z": "e9a50f1a.8125e",
        "name": "attach",
        "rules": [
            {
                "t": "set",
                "p": "attached",
                "pt": "flow",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1010,
        "y": 500,
        "wires": [
            [
                "84609913.5827c"
            ]
        ]
    },
    {
        "id": "ca114196.74c7a",
        "type": "inject",
        "z": "e9a50f1a.8125e",
        "name": "",
        "props": [
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "Detach",
        "x": 240,
        "y": 360,
        "wires": [
            [
                "99b231b.6e6555"
            ]
        ]
    },
    {
        "id": "fd6fea52.e655b8",
        "type": "function",
        "z": "e9a50f1a.8125e",
        "name": "Update",
        "func": "var pressures = global.get('pressures');\n\npressures[msg.topic] = msg.payload;\n\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1500,
        "y": 460,
        "wires": [
            []
        ]
    },
    {
        "id": "44fb82d8.5ec324",
        "type": "subflow:e9a50f1a.8125e",
        "z": "d0319a94.933848",
        "g": "d0266af7.3d318",
        "name": "IV1",
        "env": [
            {
                "name": "label",
                "value": "IV1",
                "type": "str"
            }
        ],
        "x": 2730,
        "y": 480,
        "wires": [
            [
                "e794dff9.1edaa"
            ]
        ]
    },
    {
        "id": "dc979723.26832",
        "type": "subflow:e9a50f1a.8125e",
        "z": "d0319a94.933848",
        "g": "cdea3450.e3356",
        "name": "IV2",
        "env": [
            {
                "name": "label",
                "value": "IV2",
                "type": "str"
            }
        ],
        "x": 2730,
        "y": 580,
        "wires": [
            [
                "e794dff9.1edaa"
            ]
        ]
    },
    {
        "id": "d0b2da9d.a5d1c",
        "type": "phidget22-voltageoutput",
        "z": "36a8cb83.a57434",
        "g": "43b6fbc7.822c84",
        "channel": 0,
        "deviceSerialNumber": "559068",
        "hubPort": "2",
        "debug": false,
        "voltageOutputRange": "1",
        "x": 2190,
        "y": 640,
        "wires": [
            [
                "9d32629b.51039"
            ]
        ]
    },
    {
        "id": "ef46928d.95e0b",
        "type": "change",
        "z": "36a8cb83.a57434",
        "g": "43b6fbc7.822c84",
        "name": "setVoltage",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "setVoltage",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "pressures.ARM3",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"voltage\":(payload)}",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1970,
        "y": 640,
        "wires": [
            [
                "d0b2da9d.a5d1c",
                "9d32629b.51039"
            ]
        ]
    },
    {
        "id": "9d32629b.51039",
        "type": "subflow:e9a50f1a.8125e",
        "z": "36a8cb83.a57434",
        "g": "43b6fbc7.822c84",
        "name": "IV3",
        "env": [
            {
                "name": "label",
                "value": "IV3",
                "type": "str"
            }
        ],
        "x": 2390,
        "y": 640,
        "wires": [
            [
                "f94eeb03.a04548"
            ]
        ]
    },
    {
        "id": "68abac34.f67e5c",
        "type": "subflow:e9a50f1a.8125e",
        "z": "36a8cb83.a57434",
        "g": "2ba23474.d0cf14",
        "name": "IV4",
        "env": [
            {
                "name": "label",
                "value": "IV4",
                "type": "str"
            }
        ],
        "x": 2390,
        "y": 740,
        "wires": [
            [
                "f94eeb03.a04548"
            ]
        ]
    },
    {
        "id": "b29781a7.05bf48",
        "type": "subflow:29b5b7f5.1f4978",
        "z": "472cf316.a032c4",
        "g": "c38e4093.6b7da",
        "name": "TC9",
        "env": [
            {
                "name": "label",
                "value": "TC9",
                "type": "str"
            }
        ],
        "x": 510,
        "y": 1540,
        "wires": [
            [
                "8394cb1c.eedc",
                "1d7994b7.1679a3"
            ]
        ]
    },
    {
        "id": "984c6943.ae625",
        "type": "subflow:29b5b7f5.1f4978",
        "z": "472cf316.a032c4",
        "g": "981bb9d1.31d21",
        "name": "TC10",
        "env": [
            {
                "name": "label",
                "value": "TC10",
                "type": "str"
            }
        ],
        "x": 510,
        "y": 1640,
        "wires": [
            [
                "8394cb1c.eedc",
                "1d7994b7.1679a3"
            ]
        ]
    },
    {
        "id": "ab2f02bd.7e5e08",
        "type": "phidget22-digitaloutput",
        "z": "472cf316.a032c4",
        "g": "f87e1bec.5f3918",
        "channel": "4",
        "deviceSerialNumber": "559642",
        "isHubPortDevice": false,
        "hubPort": "5",
        "debug": false,
        "LEDCurrentLimit": 0.02,
        "LEDForwardVoltage": 1,
        "x": 1700,
        "y": 1140,
        "wires": [
            [
                "5d11577d.16c0d"
            ]
        ]
    },
    {
        "id": "aab6d00b.5b7258",
        "type": "change",
        "z": "472cf316.a032c4",
        "g": "f87e1bec.5f3918",
        "name": "setDutyCycle",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "setDutyCycle",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{ \"dutyCycle\" : (msg.payload) }",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1510,
        "y": 1140,
        "wires": [
            [
                "ab2f02bd.7e5e08",
                "5d11577d.16c0d"
            ]
        ]
    },
    {
        "id": "5d11577d.16c0d",
        "type": "subflow:daecb3c5.c2256",
        "z": "472cf316.a032c4",
        "g": "f87e1bec.5f3918",
        "name": "HT5",
        "env": [
            {
                "name": "label",
                "value": "HT5",
                "type": "str"
            }
        ],
        "x": 1870,
        "y": 1140,
        "wires": [
            [
                "d86dbde7.595fb8",
                "d8994046.43533"
            ]
        ]
    },
    {
        "id": "c35c6c2.d72ff1",
        "type": "phidget22-digitaloutput",
        "z": "472cf316.a032c4",
        "g": "aa0c9c53.8687e",
        "channel": "5",
        "deviceSerialNumber": "559642",
        "isHubPortDevice": false,
        "hubPort": "5",
        "debug": false,
        "LEDCurrentLimit": 0.02,
        "LEDForwardVoltage": 1,
        "x": 1700,
        "y": 1240,
        "wires": [
            [
                "ee746864.7a143"
            ]
        ]
    },
    {
        "id": "19908d86.73ac72",
        "type": "change",
        "z": "472cf316.a032c4",
        "g": "aa0c9c53.8687e",
        "name": "setDutyCycle",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "setDutyCycle",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{ \"dutyCycle\" : (msg.payload) }",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1510,
        "y": 1240,
        "wires": [
            [
                "c35c6c2.d72ff1",
                "ee746864.7a143"
            ]
        ]
    },
    {
        "id": "ee746864.7a143",
        "type": "subflow:daecb3c5.c2256",
        "z": "472cf316.a032c4",
        "g": "aa0c9c53.8687e",
        "name": "HT6",
        "env": [
            {
                "name": "label",
                "value": "HT6",
                "type": "str"
            }
        ],
        "x": 1870,
        "y": 1240,
        "wires": [
            [
                "d86dbde7.595fb8",
                "d8994046.43533"
            ]
        ]
    },
    {
        "id": "68406121.d89e88",
        "type": "phidget22-digitaloutput",
        "z": "472cf316.a032c4",
        "g": "99faae0b.9ae6e8",
        "channel": "6",
        "deviceSerialNumber": "559642",
        "isHubPortDevice": false,
        "hubPort": "5",
        "debug": false,
        "LEDCurrentLimit": 0.02,
        "LEDForwardVoltage": 1,
        "x": 1700,
        "y": 1340,
        "wires": [
            [
                "1187fc.2a0be005"
            ]
        ]
    },
    {
        "id": "d778a8e6.360ed",
        "type": "change",
        "z": "472cf316.a032c4",
        "g": "99faae0b.9ae6e8",
        "name": "setDutyCycle",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "setDutyCycle",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{ \"dutyCycle\" : (msg.payload) }",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1510,
        "y": 1340,
        "wires": [
            [
                "68406121.d89e88",
                "1187fc.2a0be005"
            ]
        ]
    },
    {
        "id": "1187fc.2a0be005",
        "type": "subflow:daecb3c5.c2256",
        "z": "472cf316.a032c4",
        "g": "99faae0b.9ae6e8",
        "name": "HT7",
        "env": [
            {
                "name": "label",
                "value": "HT7",
                "type": "str"
            }
        ],
        "x": 1870,
        "y": 1340,
        "wires": [
            [
                "d86dbde7.595fb8",
                "d8994046.43533"
            ]
        ]
    },
    {
        "id": "4d287680.90a0c8",
        "type": "phidget22-digitaloutput",
        "z": "472cf316.a032c4",
        "g": "b89fa898.3685c",
        "channel": "7",
        "deviceSerialNumber": "559642",
        "isHubPortDevice": false,
        "hubPort": "5",
        "debug": false,
        "LEDCurrentLimit": 0.02,
        "LEDForwardVoltage": 1,
        "x": 1700,
        "y": 1440,
        "wires": [
            [
                "c13ce21c.a5a3b8"
            ]
        ]
    },
    {
        "id": "4ef74614.8e7238",
        "type": "change",
        "z": "472cf316.a032c4",
        "g": "b89fa898.3685c",
        "name": "setDutyCycle",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "setDutyCycle",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{ \"dutyCycle\" : (msg.payload) }",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1510,
        "y": 1440,
        "wires": [
            [
                "4d287680.90a0c8",
                "c13ce21c.a5a3b8"
            ]
        ]
    },
    {
        "id": "c13ce21c.a5a3b8",
        "type": "subflow:daecb3c5.c2256",
        "z": "472cf316.a032c4",
        "g": "b89fa898.3685c",
        "name": "HT8",
        "env": [
            {
                "name": "label",
                "value": "HT8",
                "type": "str"
            }
        ],
        "x": 1870,
        "y": 1440,
        "wires": [
            [
                "d86dbde7.595fb8",
                "d8994046.43533"
            ]
        ]
    },
    {
        "id": "9532e7e9.dd7bd",
        "type": "phidget22-digitaloutput",
        "z": "472cf316.a032c4",
        "g": "6c120055.6be63",
        "channel": "8",
        "deviceSerialNumber": "559642",
        "isHubPortDevice": false,
        "hubPort": "5",
        "debug": false,
        "LEDCurrentLimit": 0.02,
        "LEDForwardVoltage": 1,
        "x": 1700,
        "y": 1540,
        "wires": [
            [
                "d938b331.2e05f8"
            ]
        ]
    },
    {
        "id": "5ff99cac.af9a1c",
        "type": "change",
        "z": "472cf316.a032c4",
        "g": "6c120055.6be63",
        "name": "setDutyCycle",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "setDutyCycle",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{ \"dutyCycle\" : (msg.payload) }",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1510,
        "y": 1540,
        "wires": [
            [
                "9532e7e9.dd7bd",
                "d938b331.2e05f8"
            ]
        ]
    },
    {
        "id": "d938b331.2e05f8",
        "type": "subflow:daecb3c5.c2256",
        "z": "472cf316.a032c4",
        "g": "6c120055.6be63",
        "name": "HT9",
        "env": [
            {
                "name": "label",
                "value": "HT9",
                "type": "str"
            }
        ],
        "x": 1870,
        "y": 1540,
        "wires": [
            [
                "d86dbde7.595fb8",
                "d8994046.43533"
            ]
        ]
    },
    {
        "id": "a0bbddb3.f6586",
        "type": "phidget22-digitaloutput",
        "z": "472cf316.a032c4",
        "g": "11fca2db.168405",
        "channel": "9",
        "deviceSerialNumber": "559642",
        "isHubPortDevice": false,
        "hubPort": "5",
        "debug": false,
        "LEDCurrentLimit": 0.02,
        "LEDForwardVoltage": 1,
        "x": 1700,
        "y": 1640,
        "wires": [
            [
                "e0487fbc.4e1eb"
            ]
        ]
    },
    {
        "id": "2598d46b.952f2c",
        "type": "change",
        "z": "472cf316.a032c4",
        "g": "11fca2db.168405",
        "name": "setDutyCycle",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "setDutyCycle",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{ \"dutyCycle\" : (msg.payload) }",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1510,
        "y": 1640,
        "wires": [
            [
                "a0bbddb3.f6586",
                "e0487fbc.4e1eb"
            ]
        ]
    },
    {
        "id": "e0487fbc.4e1eb",
        "type": "subflow:daecb3c5.c2256",
        "z": "472cf316.a032c4",
        "g": "11fca2db.168405",
        "name": "HT10",
        "env": [
            {
                "name": "label",
                "value": "HT10",
                "type": "str"
            }
        ],
        "x": 1870,
        "y": 1640,
        "wires": [
            [
                "d86dbde7.595fb8",
                "d8994046.43533"
            ]
        ]
    },
    {
        "id": "d8994046.43533",
        "type": "link out",
        "z": "472cf316.a032c4",
        "g": "3910b958.407cf6",
        "name": "",
        "links": [
            "24f66f48.316db"
        ],
        "x": 2255,
        "y": 1300,
        "wires": []
    },
    {
        "id": "da4f6120.2fa338",
        "type": "change",
        "z": "b9f084d.1776c78",
        "name": "",
        "rules": [
            {
                "t": "move",
                "p": "topic",
                "pt": "msg",
                "to": "measurement",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 300,
        "wires": [
            [
                "5825fb37.cfea1c"
            ]
        ]
    },
    {
        "id": "1d7994b7.1679a3",
        "type": "link out",
        "z": "472cf316.a032c4",
        "g": "ad5f1dd6.82ee1",
        "name": "",
        "links": [
            "24f66f48.316db"
        ],
        "x": 855,
        "y": 1280,
        "wires": []
    },
    {
        "id": "740edf17.7363c",
        "type": "link out",
        "z": "39f681b1.fd6a4e",
        "g": "41a0fb43.fcc0e4",
        "name": "",
        "links": [
            "24f66f48.316db"
        ],
        "x": 845,
        "y": 700,
        "wires": []
    },
    {
        "id": "586bee1f.0e3ec",
        "type": "ui_switch",
        "z": "b9f084d.1776c78",
        "name": "",
        "label": "RECORD",
        "tooltip": "",
        "group": "5a59f44e.bb600c",
        "order": 2,
        "width": 3,
        "height": 1,
        "passthru": true,
        "decouple": "false",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "x": 760,
        "y": 200,
        "wires": [
            [
                "d7c4d75c.b968b"
            ]
        ]
    },
    {
        "id": "f25bbf3e.fb0c9",
        "type": "inject",
        "z": "b9f084d.1776c78",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "false",
        "payloadType": "bool",
        "x": 540,
        "y": 200,
        "wires": [
            [
                "586bee1f.0e3ec"
            ]
        ]
    },
    {
        "id": "d7c4d75c.b968b",
        "type": "change",
        "z": "b9f084d.1776c78",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "record",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1000,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "5825fb37.cfea1c",
        "type": "switch",
        "z": "b9f084d.1776c78",
        "name": "isRecording",
        "property": "record",
        "propertyType": "flow",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 890,
        "y": 300,
        "wires": [
            [
                "c120025.e616f8"
            ]
        ]
    },
    {
        "id": "699b478e.034d08",
        "type": "ui_button",
        "z": "b9f084d.1776c78",
        "name": "",
        "group": "5a59f44e.bb600c",
        "order": 4,
        "width": 3,
        "height": 1,
        "passthru": false,
        "label": "Clear",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "[]",
        "payloadType": "json",
        "topic": "topic",
        "topicType": "str",
        "x": 530,
        "y": 400,
        "wires": [
            [
                "47639431.6f6f7c"
            ]
        ]
    },
    {
        "id": "47639431.6f6f7c",
        "type": "link out",
        "z": "b9f084d.1776c78",
        "name": "Clear",
        "links": [
            "5d297315.dfbd14",
            "e7ca77d0.40051",
            "aeabe46b.e31198",
            "e4782000.e8773",
            "3fcc0a6e.dd0f76",
            "76fb6c9d.7d799c",
            "4704d160.a59378"
        ],
        "x": 705,
        "y": 400,
        "wires": []
    },
    {
        "id": "5d297315.dfbd14",
        "type": "link in",
        "z": "472cf316.a032c4",
        "name": "",
        "links": [
            "47639431.6f6f7c"
        ],
        "x": 995,
        "y": 640,
        "wires": [
            [
                "11623147.a352af"
            ]
        ]
    },
    {
        "id": "e4782000.e8773",
        "type": "link in",
        "z": "472cf316.a032c4",
        "d": true,
        "name": "",
        "links": [
            "47639431.6f6f7c"
        ],
        "x": 2195,
        "y": 580,
        "wires": [
            [
                "1d5da6b.b9983d9"
            ]
        ]
    },
    {
        "id": "3fcc0a6e.dd0f76",
        "type": "link in",
        "z": "39f681b1.fd6a4e",
        "name": "",
        "links": [
            "47639431.6f6f7c"
        ],
        "x": 1065,
        "y": 460,
        "wires": [
            [
                "65560268.c466c4"
            ]
        ]
    },
    {
        "id": "76fb6c9d.7d799c",
        "type": "link in",
        "z": "d0319a94.933848",
        "name": "",
        "links": [
            "47639431.6f6f7c"
        ],
        "x": 1775,
        "y": 1160,
        "wires": [
            [
                "80b7173c.a29828"
            ]
        ]
    },
    {
        "id": "4704d160.a59378",
        "type": "link in",
        "z": "36a8cb83.a57434",
        "name": "",
        "links": [
            "47639431.6f6f7c"
        ],
        "x": 1615,
        "y": 1420,
        "wires": [
            [
                "3094f702.60c98"
            ]
        ]
    },
    {
        "id": "49afa66.bad24d8",
        "type": "inject",
        "z": "472cf316.a032c4",
        "name": "",
        "props": [
            {
                "p": "topic",
                "vt": "str"
            },
            {
                "p": "payload"
            }
        ],
        "repeat": "0.2",
        "crontab": "",
        "once": true,
        "onceDelay": "1",
        "topic": "mean",
        "payload": "mean_temp",
        "payloadType": "global",
        "x": 190,
        "y": 600,
        "wires": [
            [
                "d55b5cdd.296ef8",
                "8394cb1c.eedc"
            ]
        ]
    },
    {
        "id": "d55b5cdd.296ef8",
        "type": "PID",
        "z": "472cf316.a032c4",
        "g": "f3991c64.015ab8",
        "name": "",
        "setpoint": 21,
        "pb": "100",
        "ti": 9999,
        "td": 0,
        "integral_default": "0",
        "smooth_factor": "0",
        "max_interval": 600,
        "enable": "0",
        "disabled_op": 0,
        "x": 830,
        "y": 320,
        "wires": [
            [
                "4270925e.800124",
                "20913080.b2a83"
            ]
        ]
    },
    {
        "id": "c76c7069.408c98",
        "type": "inject",
        "z": "472cf316.a032c4",
        "g": "f3991c64.015ab8",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "false",
        "payloadType": "bool",
        "x": 150,
        "y": 200,
        "wires": [
            [
                "11dd6b0.9c80895"
            ]
        ]
    },
    {
        "id": "11dd6b0.9c80895",
        "type": "ui_switch",
        "z": "472cf316.a032c4",
        "g": "f3991c64.015ab8",
        "name": "",
        "label": "PID",
        "tooltip": "",
        "group": "fa943f83.ed6f3",
        "order": 3,
        "width": 2,
        "height": 1,
        "passthru": true,
        "decouple": "false",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "x": 290,
        "y": 200,
        "wires": [
            [
                "28028e9.c2b6c72"
            ]
        ]
    },
    {
        "id": "28028e9.c2b6c72",
        "type": "switch",
        "z": "472cf316.a032c4",
        "g": "f3991c64.015ab8",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 430,
        "y": 200,
        "wires": [
            [
                "b80f7788.a59368"
            ],
            [
                "1f539647.af5eda"
            ]
        ]
    },
    {
        "id": "b80f7788.a59368",
        "type": "change",
        "z": "472cf316.a032c4",
        "g": "f3991c64.015ab8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "enable",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            },
            {
                "t": "set",
                "p": "PID",
                "pt": "flow",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 620,
        "y": 180,
        "wires": [
            [
                "d55b5cdd.296ef8"
            ]
        ]
    },
    {
        "id": "1f539647.af5eda",
        "type": "change",
        "z": "472cf316.a032c4",
        "g": "f3991c64.015ab8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "enable",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            },
            {
                "t": "set",
                "p": "PID",
                "pt": "flow",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 620,
        "y": 220,
        "wires": [
            [
                "d55b5cdd.296ef8"
            ]
        ]
    },
    {
        "id": "a187d4f4.6b12b8",
        "type": "ui_text_input",
        "z": "472cf316.a032c4",
        "g": "f3991c64.015ab8",
        "name": "",
        "label": "t_derivative",
        "tooltip": "Larger number larger effect",
        "group": "fa943f83.ed6f3",
        "order": 7,
        "width": 2,
        "height": 1,
        "passthru": false,
        "mode": "number",
        "delay": "0",
        "topic": "t_derivative",
        "topicType": "str",
        "x": 350,
        "y": 460,
        "wires": [
            [
                "d55b5cdd.296ef8"
            ]
        ]
    },
    {
        "id": "e197eb2a.a625d",
        "type": "inject",
        "z": "472cf316.a032c4",
        "g": "f3991c64.015ab8",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "2",
        "payloadType": "num",
        "x": 150,
        "y": 460,
        "wires": [
            [
                "a187d4f4.6b12b8"
            ]
        ]
    },
    {
        "id": "b6136cec.653b28",
        "type": "inject",
        "z": "472cf316.a032c4",
        "g": "f3991c64.015ab8",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "10",
        "payloadType": "num",
        "x": 150,
        "y": 400,
        "wires": [
            [
                "40c2d4fd.6926cc"
            ]
        ]
    },
    {
        "id": "40c2d4fd.6926cc",
        "type": "ui_text_input",
        "z": "472cf316.a032c4",
        "g": "f3991c64.015ab8",
        "name": "",
        "label": "t_integral",
        "tooltip": "Smaller number larger effect",
        "group": "fa943f83.ed6f3",
        "order": 6,
        "width": 2,
        "height": 1,
        "passthru": true,
        "mode": "number",
        "delay": "0",
        "topic": "t_integral",
        "topicType": "str",
        "x": 340,
        "y": 400,
        "wires": [
            [
                "d55b5cdd.296ef8"
            ]
        ]
    },
    {
        "id": "168569b9.74ad9e",
        "type": "ui_text_input",
        "z": "472cf316.a032c4",
        "g": "f3991c64.015ab8",
        "name": "",
        "label": "prop_band",
        "tooltip": "Smaller number means larger gain",
        "group": "fa943f83.ed6f3",
        "order": 5,
        "width": 2,
        "height": 1,
        "passthru": true,
        "mode": "number",
        "delay": "0",
        "topic": "prop_band",
        "topicType": "str",
        "x": 350,
        "y": 340,
        "wires": [
            [
                "d55b5cdd.296ef8"
            ]
        ]
    },
    {
        "id": "533289cc.c5a0c8",
        "type": "ui_text_input",
        "z": "472cf316.a032c4",
        "g": "f3991c64.015ab8",
        "name": "",
        "label": "setpoint",
        "tooltip": "Temperature in °C",
        "group": "fa943f83.ed6f3",
        "order": 4,
        "width": 2,
        "height": 1,
        "passthru": true,
        "mode": "number",
        "delay": "0",
        "topic": "setpoint",
        "topicType": "str",
        "x": 340,
        "y": 280,
        "wires": [
            [
                "d55b5cdd.296ef8"
            ]
        ]
    },
    {
        "id": "2171f481.456784",
        "type": "inject",
        "z": "472cf316.a032c4",
        "g": "f3991c64.015ab8",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "30",
        "payloadType": "num",
        "x": 150,
        "y": 280,
        "wires": [
            [
                "533289cc.c5a0c8"
            ]
        ]
    },
    {
        "id": "2767f17e.f37cf6",
        "type": "inject",
        "z": "472cf316.a032c4",
        "g": "f3991c64.015ab8",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "100",
        "payloadType": "num",
        "x": 150,
        "y": 340,
        "wires": [
            [
                "168569b9.74ad9e"
            ]
        ]
    },
    {
        "id": "4270925e.800124",
        "type": "change",
        "z": "472cf316.a032c4",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "total_power",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "total",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1480,
        "y": 340,
        "wires": [
            [
                "d86dbde7.595fb8"
            ]
        ]
    },
    {
        "id": "20913080.b2a83",
        "type": "function",
        "z": "472cf316.a032c4",
        "name": "distribute",
        "func": "let temps = global.get('temperatures');\nlet mean_temp = global.get('mean_temp');\n\nlet resid = {}\nlet sum = 0\n\nfor (let key in temps) {\n    let r = temps[key] - mean_temp;\n    if (r<0) {\n        r = -r;\n        sum += r;\n    }\n    else {\n        r=0;\n    }\n    resid[key] = r;\n}\n\nfor (let key in resid) {\n    resid[key]/=sum;\n}\n\nlet power = msg.payload;\nmsg = [];\n\nfor (i = 1; i <11; i++) {\n    p = power* resid['TC'+i]\n    msg.push({topic:'TC'+i, payload:p})\n}\n\nreturn msg;",
        "outputs": 10,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1120,
        "y": 1140,
        "wires": [
            [
                "f15d55fe.96273"
            ],
            [
                "c3887544.7385d8"
            ],
            [
                "2e3994f.0fbdc6c"
            ],
            [
                "4024fc44.4a45ac"
            ],
            [
                "aab6d00b.5b7258"
            ],
            [
                "19908d86.73ac72"
            ],
            [
                "d778a8e6.360ed"
            ],
            [
                "4ef74614.8e7238"
            ],
            [
                "5ff99cac.af9a1c"
            ],
            [
                "2598d46b.952f2c"
            ]
        ]
    },
    {
        "id": "3c267087.07f018",
        "type": "easing",
        "z": "d0319a94.933848",
        "name": "",
        "easingType": "easeInOutQuad",
        "outputType": "asArray",
        "duration": "4000",
        "interval": "200",
        "numberOfValues": 10,
        "x": 1130,
        "y": 300,
        "wires": [
            [
                "3e94fcc5.39398c"
            ]
        ]
    },
    {
        "id": "4175d55f.a20384",
        "type": "function",
        "z": "d0319a94.933848",
        "name": "",
        "func": "var position = 0;\nvar destination = 10\n\nvar distance = Math.abs(destination-position);\n\n//this is the velocity of the setpoint\nvar velocity = 0.2; // mm/step\n\nvar nsteps = distance/velocity;\n\nvar interval = 100; // ms/step\n\nvar duration = nsteps*interval;\n\nmsg.payload = { from:position, \n                to:destination, \n                size:nsteps };\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 980,
        "y": 300,
        "wires": [
            [
                "3c267087.07f018"
            ]
        ]
    },
    {
        "id": "3e94fcc5.39398c",
        "type": "split",
        "z": "d0319a94.933848",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1270,
        "y": 300,
        "wires": [
            [
                "4d9f6823.33b748"
            ]
        ]
    },
    {
        "id": "4d9f6823.33b748",
        "type": "delay",
        "z": "d0319a94.933848",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "10",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 1440,
        "y": 300,
        "wires": [
            [
                "eb06b81d.4a0ac8",
                "3692b83d.df0298",
                "b1eded68.96f5a"
            ]
        ]
    },
    {
        "id": "eb06b81d.4a0ac8",
        "type": "switch",
        "z": "d0319a94.933848",
        "name": "",
        "property": "parts.index",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "(msg.parts.count-1)",
                "vt": "jsonata"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1630,
        "y": 300,
        "wires": [
            [
                "4bc228c2.955a78"
            ]
        ]
    },
    {
        "id": "6ab703ad.41104c",
        "type": "easing",
        "z": "d0319a94.933848",
        "name": "",
        "easingType": "easeInOutQuad",
        "outputType": "asArray",
        "duration": "4000",
        "interval": "200",
        "numberOfValues": 10,
        "x": 1130,
        "y": 380,
        "wires": [
            [
                "45a6b2db.272484"
            ]
        ]
    },
    {
        "id": "4bc228c2.955a78",
        "type": "function",
        "z": "d0319a94.933848",
        "name": "",
        "func": "var position = 0;\nvar destination = 7;\n\nvar distance = Math.abs(destination-position);\n\n//this is the velocity of the setpoint\nvar velocity = 0.2; // mm/step\n\nvar nsteps = distance/velocity;\n\nvar interval = 100; // ms/step\n\nvar duration = nsteps*interval;\n\nmsg.payload = { from:position, \n                to:destination, \n                size:nsteps };\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 980,
        "y": 380,
        "wires": [
            [
                "6ab703ad.41104c"
            ]
        ]
    },
    {
        "id": "45a6b2db.272484",
        "type": "split",
        "z": "d0319a94.933848",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1270,
        "y": 380,
        "wires": [
            [
                "16bef3d4.e464c4"
            ]
        ]
    },
    {
        "id": "16bef3d4.e464c4",
        "type": "delay",
        "z": "d0319a94.933848",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "10",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 1440,
        "y": 380,
        "wires": [
            [
                "777830a4.b45608",
                "bfddd84.d61baa8"
            ]
        ]
    },
    {
        "id": "777830a4.b45608",
        "type": "switch",
        "z": "d0319a94.933848",
        "name": "",
        "property": "parts.index",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "(msg.parts.count-1)",
                "vt": "jsonata"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1630,
        "y": 380,
        "wires": [
            [
                "d52ccdf0.4a25f"
            ]
        ]
    },
    {
        "id": "d52ccdf0.4a25f",
        "type": "delay",
        "z": "d0319a94.933848",
        "name": "",
        "pauseType": "delay",
        "timeout": "500",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 990,
        "y": 460,
        "wires": [
            [
                "dab912d1.fd9d38",
                "3435523.82609ae"
            ]
        ]
    },
    {
        "id": "dab912d1.fd9d38",
        "type": "delay",
        "z": "d0319a94.933848",
        "name": "",
        "pauseType": "delay",
        "timeout": "500",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 1370,
        "y": 460,
        "wires": [
            [
                "7e4e74ba.dc8d34",
                "1ca3db6a.354525"
            ]
        ]
    },
    {
        "id": "10b40a4f.34015e",
        "type": "easing",
        "z": "d0319a94.933848",
        "name": "",
        "easingType": "easeInOutQuad",
        "outputType": "asArray",
        "duration": "4000",
        "interval": "200",
        "numberOfValues": 10,
        "x": 1110,
        "y": 540,
        "wires": [
            [
                "2b4d4705.fefaa8"
            ]
        ]
    },
    {
        "id": "211a2c81.638ccc",
        "type": "function",
        "z": "d0319a94.933848",
        "name": "",
        "func": "var position = 0;\nvar destination = 7;\n\nvar distance = Math.abs(destination-position);\n\n//this is the velocity of the setpoint\nvar velocity = 0.2; // mm/step\n\nvar nsteps = distance/velocity;\n\nvar interval = 100; // ms/step\n\nvar duration = nsteps*interval;\n\nmsg.payload = { from:position, \n                to:destination, \n                size:nsteps };\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 960,
        "y": 540,
        "wires": [
            [
                "10b40a4f.34015e"
            ]
        ]
    },
    {
        "id": "2b4d4705.fefaa8",
        "type": "split",
        "z": "d0319a94.933848",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1250,
        "y": 540,
        "wires": [
            [
                "4966517c.1c6cd8"
            ]
        ]
    },
    {
        "id": "4966517c.1c6cd8",
        "type": "delay",
        "z": "d0319a94.933848",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "10",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 1420,
        "y": 540,
        "wires": [
            [
                "9d9d760b.125a88",
                "bfddd84.d61baa8"
            ]
        ]
    },
    {
        "id": "9d9d760b.125a88",
        "type": "switch",
        "z": "d0319a94.933848",
        "name": "",
        "property": "parts.index",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "(msg.parts.count-1)",
                "vt": "jsonata"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1630,
        "y": 540,
        "wires": [
            [
                "1ca3db6a.354525"
            ]
        ]
    },
    {
        "id": "63ff8ab.8af12f4",
        "type": "change",
        "z": "d0319a94.933848",
        "name": "setBusy",
        "rules": [
            {
                "t": "set",
                "p": "busy",
                "pt": "flow",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 920,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "d03ccb61.a01ad8",
        "type": "change",
        "z": "d0319a94.933848",
        "name": "unsetBusy",
        "rules": [
            {
                "t": "set",
                "p": "busy",
                "pt": "flow",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2130,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "84633fcc.b52a7",
        "type": "inject",
        "z": "e9a50f1a.8125e",
        "name": "",
        "props": [
            {
                "p": "topic",
                "v": "label",
                "vt": "env"
            },
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "0.5",
        "topic": "",
        "payload": "0",
        "payloadType": "num",
        "x": 1270,
        "y": 400,
        "wires": [
            [
                "fd6fea52.e655b8"
            ]
        ]
    },
    {
        "id": "7e4e74ba.dc8d34",
        "type": "change",
        "z": "d0319a94.933848",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1640,
        "y": 460,
        "wires": [
            [
                "bfddd84.d61baa8"
            ]
        ]
    },
    {
        "id": "9b62796f.23be3",
        "type": "inject",
        "z": "d0319a94.933848",
        "name": "update",
        "props": [],
        "repeat": "0.2",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payloadType": "str",
        "x": 1400,
        "y": 1080,
        "wires": [
            [
                "a6e544c0.4b231"
            ]
        ]
    },
    {
        "id": "a6e544c0.4b231",
        "type": "change",
        "z": "d0319a94.933848",
        "name": "diameter",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "diameter_in",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "$globalContext('positions').EN1+$globalContext('positions').EN2",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1560,
        "y": 1080,
        "wires": [
            [
                "4a69c05d.6bb228",
                "7a72c354.d7c104"
            ]
        ]
    },
    {
        "id": "3435523.82609ae",
        "type": "change",
        "z": "d0319a94.933848",
        "name": "setZero",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "setZero",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 800,
        "y": 980,
        "wires": [
            [
                "e08b09de.9f605",
                "ce24bfc1.e0fbd"
            ]
        ]
    },
    {
        "id": "5b487128.6e25c",
        "type": "easing",
        "z": "36a8cb83.a57434",
        "name": "",
        "easingType": "easeInOutQuad",
        "outputType": "asArray",
        "duration": "4000",
        "interval": "200",
        "numberOfValues": 10,
        "x": 970,
        "y": 880,
        "wires": [
            [
                "317f78fc.983f58"
            ]
        ]
    },
    {
        "id": "e2516b3d.c1662",
        "type": "function",
        "z": "36a8cb83.a57434",
        "name": "",
        "func": "var position = global.get('pressures').IV3;\nvar destination = 5;\n\nvar distance = Math.abs(destination-position);\n\n//this is the velocity of the setpoint\nvar velocity = 0.2; // mm/step\n\nvar nsteps = distance/velocity;\n\nvar interval = 100; // ms/step\n\nvar duration = nsteps*interval;\n\nmsg.payload = { from:position, \n                to:destination, \n                size:nsteps };\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 820,
        "y": 880,
        "wires": [
            [
                "5b487128.6e25c"
            ]
        ]
    },
    {
        "id": "317f78fc.983f58",
        "type": "split",
        "z": "36a8cb83.a57434",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1110,
        "y": 880,
        "wires": [
            [
                "f0fa38d1.8c67e8"
            ]
        ]
    },
    {
        "id": "f0fa38d1.8c67e8",
        "type": "delay",
        "z": "36a8cb83.a57434",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "10",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 1280,
        "y": 880,
        "wires": [
            [
                "3fad37af.24ea5",
                "ef46928d.95e0b"
            ]
        ]
    },
    {
        "id": "3fad37af.24ea5",
        "type": "switch",
        "z": "36a8cb83.a57434",
        "name": "",
        "property": "parts.index",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "(msg.parts.count-1)",
                "vt": "jsonata"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1470,
        "y": 880,
        "wires": [
            [
                "74c7f506.0c5b5c"
            ]
        ]
    },
    {
        "id": "7ff71eed.f2476",
        "type": "change",
        "z": "36a8cb83.a57434",
        "name": "setZero",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "setZero",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 480,
        "y": 1140,
        "wires": [
            [
                "592bc30.c034c3c",
                "4768eeae.1ff0b8"
            ]
        ]
    },
    {
        "id": "7e025539.e05a1c",
        "type": "inject",
        "z": "36a8cb83.a57434",
        "name": "update",
        "props": [],
        "repeat": "0.2",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "x": 1220,
        "y": 1360,
        "wires": [
            [
                "bd459bc5.e1032"
            ]
        ]
    },
    {
        "id": "bd459bc5.e1032",
        "type": "change",
        "z": "36a8cb83.a57434",
        "name": "diameter",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "diameter_out",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "$globalContext('positions').EN3+$globalContext('positions').EN4",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1380,
        "y": 1360,
        "wires": [
            [
                "43d0dfc3.1424f8",
                "29c59852.e671c"
            ]
        ]
    },
    {
        "id": "67c359d.80430a8",
        "type": "easing",
        "z": "36a8cb83.a57434",
        "name": "",
        "easingType": "easeInOutQuad",
        "outputType": "asArray",
        "duration": "4000",
        "interval": "200",
        "numberOfValues": 10,
        "x": 970,
        "y": 940,
        "wires": [
            [
                "8ceddc8e.b7cbf"
            ]
        ]
    },
    {
        "id": "a2085bfb.2692d",
        "type": "function",
        "z": "36a8cb83.a57434",
        "name": "",
        "func": "var position = global.get('pressures').IV3;\nvar destination = 8;\n\nvar distance = Math.abs(destination-position);\n\n//this is the velocity of the setpoint\nvar velocity = 0.2; // mm/step\n\nvar nsteps = distance/velocity;\n\nvar interval = 100; // ms/step\n\nvar duration = nsteps*interval;\n\nmsg.payload = { from:position, \n                to:destination, \n                size:nsteps };\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 820,
        "y": 940,
        "wires": [
            [
                "67c359d.80430a8"
            ]
        ]
    },
    {
        "id": "8ceddc8e.b7cbf",
        "type": "split",
        "z": "36a8cb83.a57434",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1110,
        "y": 940,
        "wires": [
            [
                "f802ed26.a8e4d8"
            ]
        ]
    },
    {
        "id": "f802ed26.a8e4d8",
        "type": "delay",
        "z": "36a8cb83.a57434",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "10",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 1280,
        "y": 940,
        "wires": [
            [
                "363f7629.66141a",
                "ef46928d.95e0b"
            ]
        ]
    },
    {
        "id": "363f7629.66141a",
        "type": "switch",
        "z": "36a8cb83.a57434",
        "name": "",
        "property": "parts.index",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "(msg.parts.count-1)",
                "vt": "jsonata"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1470,
        "y": 940,
        "wires": [
            [
                "887d1b1e.9053"
            ]
        ]
    },
    {
        "id": "7a40e378.67ca7c",
        "type": "delay",
        "z": "36a8cb83.a57434",
        "name": "",
        "pauseType": "delay",
        "timeout": "500",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 650,
        "y": 940,
        "wires": [
            [
                "a2085bfb.2692d"
            ]
        ]
    },
    {
        "id": "99c22691.064ec8",
        "type": "function",
        "z": "b9f084d.1776c78",
        "name": "",
        "func": "let attached = global.get('attached')\n\nlet total = 0;\nlet isattached = 0;\n\nfor (let key in attached) {\n    total ++ ;\n    if (attached[key] ==true) {\n        isattached ++;\n    }\n}\n\nmsg.payload = isattached + '/' + total\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 740,
        "y": 540,
        "wires": [
            [
                "65a164e8.9a67b4"
            ]
        ]
    },
    {
        "id": "9844b594.8e3c",
        "type": "inject",
        "z": "b9f084d.1776c78",
        "name": "",
        "props": [],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 540,
        "y": 540,
        "wires": [
            [
                "99c22691.064ec8"
            ]
        ]
    },
    {
        "id": "65a164e8.9a67b4",
        "type": "ui_text",
        "z": "b9f084d.1776c78",
        "group": "5a59f44e.bb600c",
        "order": 3,
        "width": "3",
        "height": "1",
        "name": "",
        "label": "Phidget channels",
        "format": "{{msg.payload}}",
        "layout": "col-center",
        "x": 990,
        "y": 540,
        "wires": []
    },
    {
        "id": "c7f9d99.4486028",
        "type": "inject",
        "z": "b9f084d.1776c78",
        "d": true,
        "g": "ceb6968f.596908",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "250",
        "payloadType": "num",
        "x": 550,
        "y": 740,
        "wires": [
            [
                "3c8a5c7.c6f5ea4"
            ]
        ]
    },
    {
        "id": "3c8a5c7.c6f5ea4",
        "type": "ui_text_input",
        "z": "b9f084d.1776c78",
        "d": true,
        "g": "ceb6968f.596908",
        "name": "",
        "label": "dataInterval",
        "tooltip": "This is the data acquisition period from the encoder",
        "group": "5a59f44e.bb600c",
        "order": 3,
        "width": 2,
        "height": 1,
        "passthru": true,
        "mode": "number",
        "delay": "0",
        "topic": "setDataInterval",
        "topicType": "str",
        "x": 710,
        "y": 740,
        "wires": [
            [
                "32c8472c.d65ed"
            ]
        ]
    },
    {
        "id": "32c8472c.d65ed",
        "type": "change",
        "z": "b9f084d.1776c78",
        "d": true,
        "g": "ceb6968f.596908",
        "name": "setDataInterval",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "setDataInterval",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"dataInterval\":(msg.payload)}",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 900,
        "y": 740,
        "wires": [
            [
                "14780578.fac7d3"
            ]
        ]
    },
    {
        "id": "14780578.fac7d3",
        "type": "link out",
        "z": "b9f084d.1776c78",
        "d": true,
        "g": "ceb6968f.596908",
        "name": "Sample rate",
        "links": [
            "dbe2897b.a98b18",
            "3711a140.49013e",
            "1369bd23.8e4ff3",
            "a4e89e91.777918",
            "399c0fdb.b30e1"
        ],
        "x": 1035,
        "y": 740,
        "wires": []
    },
    {
        "id": "b3f928cb.0ac13",
        "type": "ui_button",
        "z": "36a8cb83.a57434",
        "name": "",
        "group": "f277b7b3.2f1898",
        "order": 8,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "Open",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "{\"dutyCycle\":1}",
        "payloadType": "json",
        "topic": "setDutyCycle",
        "topicType": "str",
        "x": 590,
        "y": 600,
        "wires": [
            [
                "1356ca67.7f0946",
                "f022fe2a.090328"
            ]
        ]
    },
    {
        "id": "c459b73f.ad8ca",
        "type": "easing",
        "z": "36a8cb83.a57434",
        "name": "",
        "easingType": "easeInOutQuad",
        "outputType": "asArray",
        "duration": "4000",
        "interval": "200",
        "numberOfValues": 10,
        "x": 970,
        "y": 600,
        "wires": [
            [
                "8de14565.dea7a8"
            ]
        ]
    },
    {
        "id": "f022fe2a.090328",
        "type": "function",
        "z": "36a8cb83.a57434",
        "name": "",
        "func": "var position = global.get('pressures').IV3;\nvar destination = 10;\n\nvar distance = Math.abs(destination-position);\n\n//this is the velocity of the setpoint\nvar velocity = 0.2; // mm/step\n\nvar nsteps = distance/velocity;\n\nvar interval = 100; // ms/step\n\nvar duration = nsteps*interval;\n\nmsg.payload = { from:position, \n                to:destination, \n                size:nsteps };\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 820,
        "y": 600,
        "wires": [
            [
                "c459b73f.ad8ca"
            ]
        ]
    },
    {
        "id": "8de14565.dea7a8",
        "type": "split",
        "z": "36a8cb83.a57434",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1110,
        "y": 600,
        "wires": [
            [
                "722c2188.2424f"
            ]
        ]
    },
    {
        "id": "722c2188.2424f",
        "type": "delay",
        "z": "36a8cb83.a57434",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "10",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 1280,
        "y": 600,
        "wires": [
            [
                "14c25265.c8cf66",
                "ef46928d.95e0b"
            ]
        ]
    },
    {
        "id": "14c25265.c8cf66",
        "type": "switch",
        "z": "36a8cb83.a57434",
        "name": "",
        "property": "parts.index",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "(msg.parts.count-1)",
                "vt": "jsonata"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1470,
        "y": 600,
        "wires": [
            [
                "887d1b1e.9053"
            ]
        ]
    },
    {
        "id": "399c0fdb.b30e1",
        "type": "link in",
        "z": "472cf316.a032c4",
        "d": true,
        "name": "Sample rate",
        "links": [
            "14780578.fac7d3"
        ],
        "x": 75,
        "y": 1140,
        "wires": [
            [
                "257e7bac.6143d4",
                "f4ace7a2.bec3c",
                "7a3fcb86.106d54",
                "27ab509f.2f5a1",
                "f9ee7d4b.00db58",
                "31fc6597.3b1122",
                "e417d705.6ef3",
                "c04ebff4.2d987",
                "26fec770.ee05b",
                "cf4077f4.f30dc"
            ]
        ]
    },
    {
        "id": "7becfae6.4e8254",
        "type": "ui_button",
        "z": "d0319a94.933848",
        "name": "",
        "group": "63b898e3.cb88b",
        "order": 8,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "Open",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "0",
        "payloadType": "num",
        "topic": "",
        "topicType": "str",
        "x": 730,
        "y": 640,
        "wires": [
            [
                "bfddd84.d61baa8"
            ]
        ]
    },
    {
        "id": "1ca3db6a.354525",
        "type": "delay",
        "z": "d0319a94.933848",
        "name": "",
        "pauseType": "delay",
        "timeout": "500",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 1930,
        "y": 160,
        "wires": [
            [
                "d03ccb61.a01ad8"
            ]
        ]
    },
    {
        "id": "b1eded68.96f5a",
        "type": "debug",
        "z": "d0319a94.933848",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1680,
        "y": 160,
        "wires": []
    },
    {
        "id": "131c81e6.702c26",
        "type": "inject",
        "z": "d0319a94.933848",
        "name": "init",
        "props": [],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "x": 130,
        "y": 140,
        "wires": [
            [
                "794b00b2.d45db8"
            ]
        ]
    },
    {
        "id": "794b00b2.d45db8",
        "type": "change",
        "z": "d0319a94.933848",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "busy",
                "pt": "flow",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 360,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "7a72c354.d7c104",
        "type": "link out",
        "z": "d0319a94.933848",
        "g": "91a67c68.93205",
        "name": "",
        "links": [
            "24f66f48.316db"
        ],
        "x": 1735,
        "y": 1320,
        "wires": []
    },
    {
        "id": "29c59852.e671c",
        "type": "link out",
        "z": "36a8cb83.a57434",
        "g": "d2db447d.0b37b8",
        "name": "",
        "links": [
            "24f66f48.316db"
        ],
        "x": 1535,
        "y": 1120,
        "wires": []
    },
    {
        "id": "e794dff9.1edaa",
        "type": "link out",
        "z": "d0319a94.933848",
        "g": "6ef8a2b6.b9c6fc",
        "name": "",
        "links": [
            "24f66f48.316db"
        ],
        "x": 3095,
        "y": 520,
        "wires": []
    },
    {
        "id": "f94eeb03.a04548",
        "type": "link out",
        "z": "36a8cb83.a57434",
        "g": "ea117545.ae958",
        "name": "",
        "links": [
            "24f66f48.316db"
        ],
        "x": 2735,
        "y": 680,
        "wires": []
    }
]